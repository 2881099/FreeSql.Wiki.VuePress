import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as l,b as i,d as t,e as s,f as o,r as u,o as h}from"./app-BGkr1ak4.js";const d={};function p(c,e){const r=u("RouteLink");return h(),n("div",null,[e[4]||(e[4]=l('<h1 id="更新日志" tabindex="-1"><a class="header-anchor" href="#更新日志"><span>更新日志</span></a></h1><p>大约每月一次版本号，暂时以修复 bug 为主</p><h2 id="v3-5-212" tabindex="-1"><a class="header-anchor" href="#v3-5-212"><span>v3.5.212</span></a></h2><ul><li>修复 Oracle InsertOrUpdate Bug；#2047</li></ul><h2 id="v3-5-211" tabindex="-1"><a class="header-anchor" href="#v3-5-211"><span>v3.5.211</span></a></h2><ul><li>修复 ToChunkAsyncEnumerable 少读一条数据的 bug；#1982 #2056 #2016 #2015</li><li>修复 System.MemoryExtensions.Contains 解析问题；#1993</li><li>修复 Group 查询不支持 aot 问题；#2077</li><li>修复 WithTempQuery + AsTreeCte 生成SQL错误；#2080</li><li>修复 Oracle DbFirst.GetTableByName() 没有返回字段信息；#2074</li><li>修复 GBase DbFirst 字典配置问题；#2078</li><li>修复 GBase 时间类型精度问题；#2079</li><li>修复 Sqlite CodeFirst 特殊表名问题；</li><li>完善 ClickHouse/QuestDB/TDengine 支持 enum 映射；</li><li>增加 SqlExt.Ntile ntile(5) over (order by ...)；</li></ul><h2 id="v3-5-210" tabindex="-1"><a class="header-anchor" href="#v3-5-210"><span>v3.5.210</span></a></h2><ul><li>增强 全局过滤器支持查询、更新、删除指定生效；#2061</li><li>修复 SqliteCore AOT Expression 隐式将 decimal 转成 int 问题；#2065</li><li>修复 WithMemory 首行为 NULL 值的情况；#2047</li><li>修复 ExecuteSqlBulkCopy() 对于表名有空格的情况处理异常；#2055</li><li>修复 pgsql + JsonMap 无法解析 poco 表达式树的问题；#2060</li><li>优化 pgsql + JsonMap 自动映射为 jsonb；#2060</li></ul><h2 id="v3-5-209" tabindex="-1"><a class="header-anchor" href="#v3-5-209"><span>v3.5.209</span></a></h2><ul><li>修复 AsTreeCte + InsertInto 语法错误问题；#2045</li></ul><h2 id="v3-5-208" tabindex="-1"><a class="header-anchor" href="#v3-5-208"><span>v3.5.208</span></a></h2><ul><li>修复 MySql Enum MapType(int) .Contains 解析问题；</li><li>修复 MySql JsonMap Enum 统一解析为 int；#2040</li></ul><h2 id="v3-5-207" tabindex="-1"><a class="header-anchor" href="#v3-5-207"><span>v3.5.207</span></a></h2><ul><li>修复 Lambda .Contains 通配符解析为非 Like 问题；</li></ul><h2 id="v3-5-206" tabindex="-1"><a class="header-anchor" href="#v3-5-206"><span>v3.5.206</span></a></h2><ul><li>增加 ISelect.ToChunkAsyncEnumerable 异步流功能；</li><li>增加 FreeSql.Extensions.EFModel 从 efcore modelBuilder FluentApi 同步到 IFreeSql；</li><li>增加 Firebird ForUpdate skiplocked 查询参数；</li><li>修复 Firebird Inserted/Deleted 与 Repository 级联冲突 bug；#2023</li><li>修复 Duckdb CodeFirst Create Index异常；#2027</li><li>修复 ToList 子查询 bug；</li><li>修复 InsertOrUpdate 更新时触发两次 AuditValue；#2020</li><li>调整 Repository 状态管理支持 Ignore 属性（非副本）；</li><li>完善 低代码扩展 FreeSql.Extensions.ZeroEntity；</li></ul><h2 id="v3-5-203" tabindex="-1"><a class="header-anchor" href="#v3-5-203"><span>v3.5.203</span></a></h2><ul><li>增加 ISelect.Clone() 克隆查询对象；</li><li>增加 ZeroDbContext.LoadSchemaFromDatabase 方法从数据库中加载描述对象；</li><li>修复 MySqlCodeFirst Primary 迁移逻辑；#2005</li><li>修复 .In() 非表达式解析场景的 null 处理；</li><li>忧化 Oracle DbFirst 表特别多的时候生成速度；</li><li>忧化 GroupBySelf + ToList&lt;Dto&gt; 不自动映射；</li><li>调整 SqlExt 聚合函数 Count 统一返回 int；</li></ul><h2 id="v3-5-202" tabindex="-1"><a class="header-anchor" href="#v3-5-202"><span>v3.5.202</span></a></h2><ul><li>补充 Utils.IsStrict = false 可配置支持中间表有 Id 主键；（解决v3.5.107版本调整影响）</li></ul><h2 id="v3-5-201" tabindex="-1"><a class="header-anchor" href="#v3-5-201"><span>v3.5.201</span></a></h2><ul><li>修复 .Contains in 表达式函数解析在ar-AE区域问题；#2002</li><li>忧化 IDbFirst Columns 序列与数据库相同；</li><li>补充 UnitOfWorkManager 支持 DbContext 托管工作单元；</li></ul><h2 id="v3-5-109" tabindex="-1"><a class="header-anchor" href="#v3-5-109"><span>v3.5.109</span></a></h2><ul><li>忧化 GroupBySelf.Where 自动转 having；</li><li>忧化 FreeSql.Provider.PostgreSQL IPostgreSQLProviderOptions 多态参数接口，设置 InsertOrUpdate 采用 MERGE INTO；</li></ul><p>在 FreeSqlBuilder().Build() 之后设置如下：</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> as </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">IPostgreSQLProviderOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">UseMergeInto</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="v3-5-108" tabindex="-1"><a class="header-anchor" href="#v3-5-108"><span>v3.5.108</span></a></h2><ul><li>修复 DbSet/Repository CompareState 报错的问题；#1994</li><li>增加 ISelect.GroupBySelf 返回 ISelect；</li></ul><h2 id="v3-5-107" tabindex="-1"><a class="header-anchor" href="#v3-5-107"><span>v3.5.107</span></a></h2><ul><li>修复 ISelectGroupingAggregate 自定义解析方法报错的问题；</li><li>修复 Custom/Odbc char CodeFirst 映射问题；</li><li>修复 AggregateRoot CompareEntityValue 错误；</li><li>优化 AggregateRoot MapEntityValue 支持将实体映射到字典；</li><li>优化 AggregateRoot 不对比 CanUpdate = false 的字段 ；</li><li>优化 多对多中间表主键配置错误的友好提醒；</li></ul><h2 id="v3-5-106" tabindex="-1"><a class="header-anchor" href="#v3-5-106"><span>v3.5.106</span></a></h2><ul><li>增加 sqlite 批量插入方式 ExecuteSqliteBulkInsert；#1975</li><li>修复 Oracle CodeFirst nclob cast 转换问题；</li><li>修复 JsonMap Deserialize surpport JsonSerializerSettings；</li><li>修复 Kingbase 判断 v8r3 版本号问题；#1976</li><li>修复 TDengine DateTime 默认值读取异常；#1980 #1977</li></ul><h2 id="v3-5-102-3-5-105" tabindex="-1"><a class="header-anchor" href="#v3-5-102-3-5-105"><span>v3.5.102-3.5.105</span></a></h2><ul><li>增加 ISelect.Join 与 InnerJoin 方式行为一致；</li><li>增加 ToChunkAsync 异步 Api；#1952</li><li>增加 SqlExt.AggregateCount/AggregateSum 等方法，区分 SqlExt.Count/SqlExt.Sum 开窗方法；</li><li>修复 ExpressionTree 无法将 double -&gt; 转成 int 的问题；</li><li>修复 PgCopy DateTime 映射 date 失败的情况；</li><li>修复 Npgsql postgis 条件编译问题；#1940</li><li>修复 MySql.Data MySqlDateTime 读取为 null 的情况；#1960 #1948</li><li>修复 Oracle CodeFirst clob/blob cast 转换问题；</li><li>修复 KingBase .net8.0 等目标框架 dll 引用问题；</li><li>修复 Firebird 表注释迁移问题（列注释正常）；#1913</li><li>修复 Firebird 批量插入类型转换问题；#1923</li><li>修复 GBase IsNull 日期解析问题；#1953</li><li>修复 DmPrivider 连接达梦主从集群会出错问题；#1955</li><li>修复 达梦数据库上时间相减永远输出为0的问题；#1973</li><li>修复 CodeFirst 修改表名时重建索引的问题；</li><li>修复 GroupBy + WithTempQuery + 子查询参数化问题；#1965</li><li>修复 DateOnly/TimeOnly AOT 裁剪默认报错的问题；</li><li>修复 DateTime 相减时，出现 IIF 无法转换表达式的错误</li><li>修复 AdoConnectionPool 默认不生效的问题；</li><li>修复 CreateInstance 发生歧义的问题；#1962</li><li>修复 In + MapType 无效的问题；</li><li>修复 In + 子查询 别名问题；#1967</li><li>优化 ToList 针对 bool 自动转成 CASE When；</li><li>优化 SqlServer WithIndex 使用习惯；</li><li>忧化 DbFirst Oracle 自动批量插入问题；(2020年方法忘记生效）</li><li>忧化 DateTime.Subtract(date).TotalDays 表达式解析对应 datediff(day, date1, date2)；</li><li>优化 表达式解析 dArray.Select(p =&gt; p.Key).Contains(a.Id)；</li><li>优化 非 join 的多表查询的 SQL 格式；</li></ul><h2 id="v3-5-101" tabindex="-1"><a class="header-anchor" href="#v3-5-101"><span>v3.5.101</span></a></h2><ul><li>更新 到 .NET9.0；</li><li><strong>增加 DuckDB 数据库支持；</strong> https://freesql.net/guide/freesql-provider-duckdb.html</li><li><strong>增加 TDengine 数据库支持（感谢Daily贡献）；</strong> https://freesql.net/guide/freesql-provider-tdengine.html</li><li>增加 KingBaseES 支持数组等类型（参考 PostgreSQL）；</li><li>增加 Pgsql/MySql DateOnly/TimeOnly 映射；#1868 #1763 #939 #991</li><li>增加 OracleUs7ascii 写入处理特性；</li><li>增加 JsonMap Poco Lambda 表达式成员解析；</li><li>增加 FromQuery 参数由5个加到16个；</li><li>优化 FromQuery/UnionAll 在子查中继续嵌套；</li><li>优化 ISelect&lt;object&gt;.WithMemory 对匿名类型的支持；</li><li>优化 Lambda Dto 指定 .Any() 自动转成 Case when；</li><li>优化 ExpressionCall + DynamicInvoke 的解析；</li><li>优化 LIKE 表达式解析 #1870；</li><li>优化 Lambda Min/Max/First 针对 DateTime 类型不自动处理 IsNull 逻辑，因为各数据库没有统一默认值；</li><li>优化 DateTime.Subtract(date).TotalSecods 等 lambda 表达式解析，对应 datediff；</li><li>优化 DbSet/Repository 删除多主键分批300，防止 SQL AND OR 过长问题；</li><li>优化 DM/KDB/ST 默认使用 ado.net 连接池；</li><li>扩展 TypeHandler override FluentApi 设置；</li><li>扩展 SqlExt.DateDiff 时间差值计算；</li><li>扩展 a.Id.In(..) 自定义函数解析，或 new[]{ 1,2,3 }.Contains(a.Id) 相同；</li><li>修复 Repository + AuditValue + Attach 问题；#1931 #1746</li><li>修复 GBase serial8/bigserial 自增回填的问题；#1919</li><li>修复 Xugu DataType 对应问题；#1934 #1933</li><li>修复 Firebird 批量插入 varchar 追加空格的问题；#1923</li><li>修复 Guid.NewGuid().ToString().Replace(&quot;-&quot;, &quot;&quot;) 3.2.810 之后版本的解析问题；</li><li>修复 UnionAll + OrderBy 未处理嵌套的问题；</li><li>移除 TimeSpan 过度 Lambda 解析；</li><li>移除 OdbcDameng/OdbcKingbaseES；</li><li>移除 Resources 转换成 static class 静态类；#1917</li><li>移除 fsql.GetGuidRepository 改用 fsql.GetRepository&lt;T, Guid&gt;()；</li><li>修复 DateOnly/TimeOnly 映射问题；#1868 #1855 #1763 #939 #991</li></ul><h2 id="v3-2-833" tabindex="-1"><a class="header-anchor" href="#v3-2-833"><span>v3.2.833</span></a></h2><ul><li>添加 Aop.ConfigEntity 动态设置表名功能；#364 #1835 #1729 #1542 #1248 #1247 #407 #387</li><li>增加 UpdateDict/DeleteDict 方法 Where(sql)；#1840</li><li>优化 GroupBy 聚合函数 Count(bool) 解析成 sum(case when)；#1841</li></ul><h2 id="v3-2-832" tabindex="-1"><a class="header-anchor" href="#v3-2-832"><span>v3.2.832</span></a></h2><ul><li>修复 */表达式解析问题；#1836</li><li>修复 Extesions.Linq COUNT Distinct 生成sql错误；#1838</li><li>优化 Ado读写分离存储过程默认使用从库；#1833</li><li>增加 ZeroEntity 自定义异常及相关；</li></ul><h2 id="v3-2-830" tabindex="-1"><a class="header-anchor" href="#v3-2-830"><span>v3.2.830</span></a></h2><ul><li>增加 ClickHouse 表分区支持；（感谢d4ilys贡献）</li><li>修复 .Contains(&#39;b%&#39;) 部分数据库函数参数位置错误；#1826</li><li>修复 ClickHouse 批量更新 DateTime 问题；</li><li>修复 Cilckhouse CodeFirst主键问题；</li><li>调整 命名空间 FreeSql.Provider.ClickHouse.Attributes -&gt; FreeSql.DataAnnotations；#1815</li></ul><h2 id="v3-2-825" tabindex="-1"><a class="header-anchor" href="#v3-2-825"><span>v3.2.825</span></a></h2><ul><li>修复 开发环境分层编译，可能导致XML注释文件被锁报错的问题；</li><li>修复 聚合根仓储级联插入 OnToMany 雪花主键只插入一条记录；</li></ul><h2 id="v3-2-822" tabindex="-1"><a class="header-anchor" href="#v3-2-822"><span>v3.2.822</span></a></h2><ul><li>增加 vb.net Lambda 解析 AddChecked/SubtractChecked/MultiplyChecked；</li><li>修复 时枚举转 int 再转字符串报错；#1781</li></ul><h2 id="v3-2-821" tabindex="-1"><a class="header-anchor" href="#v3-2-821"><span>v3.2.821</span></a></h2><ul><li>修复 clickhouse.client 7.2.2 批量插入失败问题；#1776</li><li>修复 IInsertOrUpdate.ExecuteMySqlBulkCopyAsync 异步方法会出现空引用的异常；#1762</li><li>修复 DynamicCompileBuilder Extend 方法设置基类后失效问题；#1774</li></ul><h2 id="v3-2-820" tabindex="-1"><a class="header-anchor" href="#v3-2-820"><span>v3.2.820</span></a></h2><ul><li>增加 DynamicEntity TypeBuilder 只读属性；</li><li>修复 .NET9 TimeSpan.FromSeconds Reflect bug；#1748</li><li>修复 IBaseRepository.IncludePropertyName 可能报错的问题；#1740</li><li>修复 弱类型 IBaseRepository&lt;object&gt; 级联操作问题；#1740</li><li>修复 Where(HzyTuple) 参数为 null 时的错误；#1744</li><li>修复 IUpdate.SetSource SqlServer 批量更新 Cast 问题；#1755</li><li>修复 SqlServer 导航属性 .Any 布尔子条件解析问题；</li><li>优化 DbSet/Repository Attach 与 CanUpdate AuditValue 状态不同步问题；#1746</li><li>优化 QuestDb BulkCopy 重命名为：ExecuteQuestDbBulkCopy；#1758</li><li>优化 Clickhouse BulkCopy 重命名为：ExecuteClickHouseBulkCopy；#1758</li></ul><h2 id="v3-2-815" tabindex="-1"><a class="header-anchor" href="#v3-2-815"><span>v3.2.815</span></a></h2><ul><li>修复 MySqlEnum CHAR/BYTE 替换后前面多个空格的问题；#1737</li><li>修复 Clickhouse ToInt32/ToInt64 解析错误；</li><li>修复 WithMemory 对 InsertValueSql 属性无效的问题；</li><li>修复 ZeroDbContext GroupBy BUG；</li><li>修复 聚合根仓储 InsertOrUpdate OneToMany 只插入一条记录的 bug；</li><li>优化 TypeHandlers 支持 Enum 枚举映射规则；#1634</li></ul><h2 id="v3-2-812" tabindex="-1"><a class="header-anchor" href="#v3-2-812"><span>v3.2.812</span></a></h2><ul><li>增加 DbContextOptions.AuditValue 基于 Ioc Scoped 审计值；</li><li>优化 ManyToMany 导航属性约定命名匹配嵌套类；</li><li>修复 MySql AsTreeCte pathSelector 别名问题；</li><li>修复 ClickHouse UpdateDict 报错问题；#1712</li><li>修复 MsAccess 日期问题；#1724 #1725</li></ul><h2 id="v3-2-810" tabindex="-1"><a class="header-anchor" href="#v3-2-810"><span>v3.2.810</span></a></h2><ul><li>修复 GroupBy + WithTempQuery 别名问题；</li><li>修复 DbContext/Repository InsertOrUpdate 无变化时触发 Insert 逻辑报错；#1700</li><li>修复 ClickHouse 数组类型 hasAny 与 In 解析冲突问题；#1699</li><li>补充 WithMemory null/Empty 参数判断；</li><li>优化 表达式树解析；</li></ul><h2 id="v3-2-808" tabindex="-1"><a class="header-anchor" href="#v3-2-808"><span>v3.2.808</span></a></h2>',57)),i("ul",null,[i("li",null,[i("strong",null,[e[1]||(e[1]=t("增加 低代码扩展包 ")),s(r,{to:"/guide/lowcode.html"},{default:o(()=>e[0]||(e[0]=[t("FreeSql.Extensions.ZeroEntity")])),_:1}),e[2]||(e[2]=t("；"))])]),e[3]||(e[3]=l("<li><strong>增加 Clickhouse Bool/Array 类型适配；（感谢 d4ilys）#1568</strong></li><li>增加 Clickhouse BulkCopy；</li><li>增加 IBaseRepository.AsTable 重载方法支持多表表名设置；</li><li><strong>增加 IAsTable 自动分表支持不规则时间间隔；</strong></li><li><strong>增加 IAsTable.SetTableName 自动分表设置分表名；</strong></li><li><strong>增加 IAsTable.SetDefaultAllTables 自动分表拦截未使用 where 条件的场景；</strong></li><li>增加 IUpdate.ExecuteUpdated 指定字段返回；#1681</li><li>增加 IUpdate.SetDtoIgnore 忽略Dto更新方法；#1688</li><li>增加 ICodeFirst.SyncStructure(TableInfo) 重载方法迁移表结构；</li><li>增加 IUpdate/IDelete WhereDynamicFilter API；#1521</li><li>增加 WithSql(..).WhereDynamicFilter 的支持；</li><li>增加 pgsql 扩展方法 ISelect.DistinctOn；#1680</li><li>修复 Column DbType 与 StringLength 多次替换问题；</li><li>修复 Where(a =&gt; a.bool) 当使用了 MapType(int) 时出现 bug；</li><li>修复 SqlServer 批量更新 bool? null 值生成多余的 case when SQL；</li><li>修复 Xugu 批量插入/更新 SQL 报错；</li><li>修复 OledbOracle 参数化处理 bug；</li><li>修复 多表子查询参数化共享问题；</li><li>修复 嵌套查询 DTO 映射可能触发循环引用 bug；</li><li>补充 达梦 IDbFirst datetime 处理；</li><li>补充 FluentApi AsTable 方法；</li><li><strong>优化 自动分表 join 分表（自动贴合）；</strong></li><li>优化 UnionAll + WithTempQuery 嵌套的 SQL；</li><li>优化 Update 无字段时不做任何处理；</li><li>优化 IUpdate 未使用 .Set 时忽略执行；#1694</li><li>优化 表达式解析变量或常量 ToString；</li>",26))]),e[5]||(e[5]=l('<h2 id="v3-2-805" tabindex="-1"><a class="header-anchor" href="#v3-2-805"><span>v3.2.805</span></a></h2><ul><li>更新 支持到 .net8.0，FreeSql.DbContext 放弃 .netcoreapp2.1 依赖注入；</li><li>调整 DataType.SqlServer/MySql/PostgreSQL 默认使用 Ado 连接池；</li><li>增加 InsertDict ExecuteIdentity 重载指定自增列；</li><li>修复 Expression 导致 AOT 运行失败的问题；</li><li>修复 MySql 8.0 索引 DESC 的判断；#1664</li><li>修复 Xugu Insert + AsTable + ExecuteIdentity bug；</li><li>修复 虚谷日期格式化函数映射；</li><li>优化 RereadSql 支持表的其他字段使用；#1655</li></ul><h2 id="v3-2-802" tabindex="-1"><a class="header-anchor" href="#v3-2-802"><span>v3.2.802</span></a></h2><ul><li>增加 Aop.AuditDataReader 参数属性 PropertyInfo，实现自定义拦截；</li><li>修复 v3.2.801 AsTreeCte cte_path 别名问题；</li><li>修复 UpdateJoin SetIf 逻辑判断问题；</li><li>修复 UpdateJoin IsVersion 字段的别名问题；</li><li>修复 RawJoin 可能生成错误的 SQL；</li><li>修复 Repository.InsertOrUpdate 更新未变化时的 SQL 错误；#1630</li><li>修复 IncludeMany 变异 Where + ToList dto 无法级联；</li><li>修复 Ado.net 扩展方法 SqliteCore 支持；#1638</li><li>修复 Xugu 有关 bug；</li><li>优化 TypeHandlers 支持 DateTime 映射规则；#1634</li><li>优化 IUpdateJoin AsTable 同时对多表名设置；</li><li>优化 多实例情况下 TableInfo 集合缓存；</li></ul><h2 id="v3-2-801" tabindex="-1"><a class="header-anchor" href="#v3-2-801"><span>v3.2.801</span></a></h2><ul><li>增加 FreeSql.Internal.Utils.TypeHandlers 自定义类型映射；</li><li>增加 IInsertOrUpdate BatchOptions 选项；</li><li><strong>修复 v3.2.700 oracle/达梦子查询 BUG；</strong></li><li>修复 FreeSql.Geneartor 无法生成人大金仓数据库问题；</li><li>修复 ClickHouse CodeFirst 多主键问题；</li><li>修复 QuestDB BulkCopy 自定义表名无效的问题；</li><li>修复 QuestDb And Or 优先级解析问题；</li><li>修复 DynamicEntity 特性构造函数实例化问题；</li><li>修复 IInsertOrUpdate BulkCopy 临时表名的问题；#1603</li><li>修复 IUpdateJoin + 全局过滤器 + 从表不生效问题；#1612</li><li>修复 JsonMap 进行 null 或非 null 查询；#1613</li><li>修复 GroupBy + WithTempQuery + .Key.xx + 特性名与实体不同 + 三元表达式解析问题；</li><li>修复 MySql AsTreeCte cte_path 可能长度过短问题；</li><li>修复 MySql + InsertOrUpdateDict + IfExistsDoNothing 错误；#1601</li><li>优化 MySql/Sqlite InsertOrUpdate + IfExistsDoNothing 简化 SQL insert ignore into；#1601</li><li>优化 WithLock/WithIndex 非 SqlServer 时忽略；</li><li>优化 MySql ServerTime = DateTimeKind.Utc 不支持 utc_timestamp 默认值问题；#1604</li><li>优化 ObjectPool 恢复可用的时机；</li></ul><h2 id="v3-2-700-oracle-达梦子查询有-bug" tabindex="-1"><a class="header-anchor" href="#v3-2-700-oracle-达梦子查询有-bug"><span>v3.2.700 (oracle/达梦子查询有 BUG)</span></a></h2><ul><li>增加 GlobalFilter.Apply before 参数将过滤条件插入 where 之前；#1566 #1492</li><li>增加 多表 As 设置别名的方法 fsql.Select&lt;T1, T2&gt;().As(&quot;t1&quot;, &quot;t2&quot;)；</li><li>优化 WithTempQuery + SqlServer 未指定 OrderBy 的分页；</li><li>优化 GetPropertiesDictIgnoreCase 不返回没有 get 的属性；</li><li>修复 QuestDB Guid 类型的问题；</li><li>修复 BaseEntity 子查询 .Where 问题；#1586</li></ul><h2 id="v3-2-698" tabindex="-1"><a class="header-anchor" href="#v3-2-698"><span>v3.2.698</span></a></h2><ul><li>增加 FreeSqlBuilder UseAdoConnectionPool 更换连接池方案；#1524 #1343 #1283 #755</li><li>增加 InsertOrUpdateDict WhereIdentityPrimary 方法；</li><li>增加 pgsql 索引 B_Tree, Hash, GiST, GIN, SP_GiST, BRIN；</li><li>修复 pgsql jsonb poco 方案联表查询问题；#1549 #1071</li><li>修复 pgsql Geo 函数自定义解析深度问题；#1422</li><li>修复 PgCopy 处理 jsonb 类型的问题；#1532</li><li>修复 Enum.ToString() 即使 MapType=int 也应解析成 string；#1252 #806</li><li>修复 repository/dbset AddRange AuditValue IEnumable 失败的 bug；#1545</li><li>修复 达梦某情况连接串解析 user id 问题；</li><li>修复 QuestDB 表达式解析 DateTime.UtcNow bug；</li><li>修复 QuestDb BulkCopy在特定情况下无法解析表名问题；</li><li>优化 QuestDB Guid 映射；</li><li>优化 QuestDB 类型映射，表达式函数解析，新增 QuestFunc 函数解析；</li><li>优化 uow + ISelect.ToUpdate 事务传播；#1562</li><li>调整 QuestDB SampleUnits 命名，去掉 s；</li></ul><h2 id="v3-2-697" tabindex="-1"><a class="header-anchor" href="#v3-2-697"><span>v3.2.697</span></a></h2><ul><li>增加 IInsertOrUpdate.UpdateSet 指定更新；</li><li>修复 3.2.696 自动分表 bug；#1527 e79860164d5d12e4f7df747f0e29503dff301cb7</li></ul><h2 id="v3-2-696" tabindex="-1"><a class="header-anchor" href="#v3-2-696"><span>v3.2.696</span></a></h2><ul><li>修复 &lt;object&gt; + AsType + (a as BaseEntity) 解析问题；#1427</li><li>修复 IUpdateJoin 联表更新表达式赋值解析报错；</li><li>修复 MySqlProvider .NetFramework 下可能报初始化类型错误；</li><li>修复 自动分表 IUpdate/IDelete AsTable 不生效的问题；</li><li>修复 FromQuery + WithTempQuery 嵌套查询多层后别名问题；#1510</li><li>修复 WithTempQuery + Oracle 分页问题；#1519</li><li>修复 Oracle 插入 LONG RAW 类型的问题；</li><li>修复 BulkCopyUpdate 临时表名大小写问题；</li><li>优化 IUpdate 批量 case when 同值的 SQL 生成；#1393</li></ul><h2 id="v3-2-695" tabindex="-1"><a class="header-anchor" href="#v3-2-695"><span>v3.2.695</span></a></h2><ul><li>增加 虚谷数据库 FreeSql.Provider.Xugu；</li><li>增加 IInsert IgnoreInsertValueSql 方法临时忽略 InsertValueSql 设置；</li><li>增加 部分 LocalExecuteScalar Aop.CommandAfter 事件；#1481</li><li>增加 QuestDB SampleBy 对准日历参数；</li><li>增加 动态操作创建实体API，fsql.CodeFirst.DynamicEntity；（感谢 Daily 贡献）</li><li>修复 OracleOledb 引起的读取类型问题；</li></ul><h2 id="v3-2-693" tabindex="-1"><a class="header-anchor" href="#v3-2-693"><span>v3.2.693</span></a></h2><ul><li>添加 IInsertOrUpdate 高性能插入或更新 SqlServer/MySql/Oracle/Pgsql/达梦/人大金仓；</li><li>增加 IUpdate 高性能批量更新 Oracle/达梦/人大金仓；</li><li>增加 TableInfo.SetAsTable 自动分表的设置；</li><li><strong>修复 SqlServer 自增 BulkUpdate bug；#1476</strong></li><li>修复 表达式树解析 string.Concat 多于3个时的 bug；</li><li>修复 UpdateJoin null 错误；</li><li>优化 UpdateJoin Set 固定值解析；</li><li>优化 .Select&lt;object&gt;().WithSql(sql).ToList() 体验；</li></ul><h2 id="v3-2-692" tabindex="-1"><a class="header-anchor" href="#v3-2-692"><span>v3.2.692</span></a></h2><ul><li>增加 IUpdate.Join 联表更新功能；(高风险操作，请谨慎使用)</li><li>修复 InsertOrUpdateDict Oracle byte[] 长度判断问题；#1462</li><li>修复 InsertDict 等字典操作在 SqlServer 下的问题；</li><li>修复 ISelect&lt;T&gt; FromQuery 多表重载可能出现 null 报错；</li></ul><h2 id="v3-2-691" tabindex="-1"><a class="header-anchor" href="#v3-2-691"><span>v3.2.691</span></a></h2><ul><li>增加 ISelect&lt;T&gt; FromQuery 重载多表嵌套；</li><li>增加 实体备注从 Description/Display/DisplayName 等特性兼容读取；</li><li>增加 ISelectGrouping First 方法；</li><li>增加 IInsertOrUpdate SetSource 重载方法；</li><li>优化 WithTempQuery + ToList 使用子查询；</li><li>优化 IInsertOrUpdate SetSource tempPrimary 自增的忽略插入；</li><li>修复 Clickhouse 自动分表 where 条件分析问题；</li><li>修复 DBFirst 延迟加载 ManyToOne 返回总是NULL；#1451</li><li>修复 QuestDB CodeFirst AutoSubtableAttribute/ColumnAttribute判断bug</li></ul><h2 id="v3-2-690" tabindex="-1"><a class="header-anchor" href="#v3-2-690"><span>v3.2.690</span></a></h2><ul><li>增加 [Navigate(xx, TempPrimary = xx)] 与非主键关联；（仅支持查询）</li><li><strong>修复 3.2.689/3.2.688 WithTempQuery DTO 映射查询遗留问题；</strong></li><li>优化 AsTable 自动分表，提供超始小时的设置；</li></ul><h2 id="v3-2-688" tabindex="-1"><a class="header-anchor" href="#v3-2-688"><span>v3.2.688</span></a></h2><ul><li><strong>增加 QuestDB 时序数据库支持；（感谢 Daily 贡献）</strong></li><li>修复 Array.Any OR 表达式树解析 bug；</li><li>修复 GroupBy 之后 WithTempQuery 参数化时未传递的问题；</li><li>修复 BulkUpdate 触发 Aop.AuditValue Insert 类型的问题；</li><li>修复 Ado.ExecuteNonQuery 超时参数未生效的问题；#1441</li><li>修复 Firebird CodeFirst 索引 DESC 问题；#1413</li><li>优化 Firebird CodeFirst 迁移代码；</li><li>优化 Firebird 表达式树位运算的适配解析；#1413</li><li>优化 SqlServer timestamp 行版本的支持；#1412</li><li>优化 pgsql15.0 部分类型兼容；#1436</li><li>完善 Sqlite DbFirst 获取索引信息；#1425</li><li>优化 适配达梦最新驱动；</li><li>优化 IUpdate 组合更新方式；</li><li>优化 IUpdate.Set(xx, null) 的情况；</li><li>优化 ISelect&lt;object&gt; AsType 的父子类转换时的情况；#1427</li><li>优化 支持动态操作 IncludeByPropertyName then.WhereDynamicFilter 操作；</li><li>优化 WithTempQuery 场景的 DTO 映射查询；</li></ul><h2 id="v3-2-687" tabindex="-1"><a class="header-anchor" href="#v3-2-687"><span>v3.2.687</span></a></h2><ul><li><strong>修复 3.2.686 JsonMap bug；</strong></li><li>优化 参数化增加 ExpandoObject 支持；#1403</li><li>优化 pgsql15.0 Version 版本号处理；</li><li>优化 pgsql CodeFirst Syncsture CREATE INDEX code；</li></ul><h2 id="v3-2-686" tabindex="-1"><a class="header-anchor" href="#v3-2-686"><span>v3.2.686</span></a></h2><ul><li>增加 FreeSqlBuilder UseQuoteSqlName 设置不使用 [] `` &quot;&quot; 限定符号；</li><li>增加 Aop.CommandBefore 设置 .CommandText = null 可拦截某次执行；</li><li>增加 IAdo.ExecuteNonQuery 重载方法（虚谷数据库）；</li><li><strong>修复 UseSlaveWeight 异步下可能无效的问题；#1382</strong></li><li>修复 HzyTuple 嵌套解析问题；#1390</li><li>修复 AsType 表达式解析问题；#1389</li><li>修复 pgsql OnConflictDoUpdate 临时主键问题；#1393</li><li>修复 ClickHouse 联表查询 GLOBAL left join、Ado.Query * 问题；#1383</li><li>优化 ClickHouse like 为 positionCaseInsensitive #1386</li><li>优化 JsonMap 对基础类型的无效判断；#1385</li><li>优化 IUpdate 批量 case when 同值的 SQL 生成；#1393</li><li>优化 IAdo.ConnectionString 使用 UseConnectionFactory 时值为 NULL 的问题；</li></ul><h2 id="v3-2-685" tabindex="-1"><a class="header-anchor" href="#v3-2-685"><span>v3.2.685</span></a></h2><ul><li><strong>增加 IUpdate&lt;T&gt; BulkCopy 批量更新扩展方法；（暂时支持 SqlServer/MySql/PostgreSQL）</strong></li><li>修复 ClickHouse CodeFirst 表结构同步问题；</li><li>修复 ISelectGrouping ToSql AsProperty 别名无效问题；</li><li>优化 UnitOfWork 与 ForUpdate 事务开启逻辑；</li><li>优化 MySqlConnector MySqlDataTime 读取；</li><li>优化 linq.dynamic Expression Invoke 解析；#1378</li></ul><h2 id="v3-2-684" tabindex="-1"><a class="header-anchor" href="#v3-2-684"><span>v3.2.684</span></a></h2><ul><li><strong>修复 Firebird CodeFirst.SyncStructure 自增主键错误；(受影响版本 3.2.666-3.2.683)</strong></li><li>修复 Firebird [Index(&quot;{tablename}_Name&quot; 分表索引名未处理的 bug；#1346</li><li>修复 InsertDict DBNull.Value 值无法插入的问题；#1336</li><li>修复 fsql.InsertOrUpdate SetSource(sql) 无效的 bug；</li><li>优化 string[].Any(..) 表达式树解析；ReplaceParameterVisitor</li><li>优化 ISelect&lt;T1, T2&gt; 对象 .LeftJoin&lt;T2&gt; 表别名；#1348</li></ul><h2 id="v3-2-683" tabindex="-1"><a class="header-anchor" href="#v3-2-683"><span>v3.2.683</span></a></h2><ul><li><strong>修复 Repository/DbContext 同一实例执行报错后续无法再 CRUD；</strong></li><li><strong>修复 UnitOfWorkManager + Repository.SaveMany 事务切换问题；</strong></li><li>修复 导航属性 PgArrayToMany 数组字段为空时的 bug；</li><li>修复 导航属性 PgArrayToMany DTO 异步查询报错的 bug（同步方法正常）；</li><li>修复 SqlExt count/avg 开窗函数参数；#1321</li><li>修复 Sqlite TimeSpan 类型映射错误；</li><li>修复 Sqlite Attachs 多库索引 {tablename} 问题；</li><li>修复 EndEdit 未触发 OnEntityChange；</li><li>修复 fsql.InsertOrUpdate CanInsert=false,CanUpdate=true (mysql/pgsql）不生效的 bug；</li><li>修复 聚合根仓储（实验） InsertOrUpdate 重复插入的 bug；</li><li>修复 聚合根仓储（实验） Update 未更新自增状态管理的 bug；</li><li>修复 SqlServer WithSql + WithLock bug；</li><li>修复 ClickHouse Ado 参数化无效的问题；#1340</li><li>修复 Odbc 自定义 N&#39;&#39; 无效；#1332</li><li>修复 DbContext DbSet 属性初始并发时未触发 OnModelCreating；#1333</li><li>修复 Utils.ReplaceSqlConstString bug；</li><li>扩展 UseMessagePackMap 示例；</li><li>优化 UpdateDict 支持 .IsVersion 乐观锁设置；</li><li>优化 InsertDict DBNull.Value 值处理；#1336</li><li>优化 表达式树解析 w =&gt; (w as TBase).Id；</li><li>优化 导航属性集合 .Exists 效果与 .Any 相同；</li><li>优化 MySql CodeFirst 判断表是否存在的查询语句性能；</li><li>优化 SqlServer2005 TOP 1 查询；</li><li>完善 SqlServer WithLock + WithIndex 扩展方法；</li></ul><h2 id="v3-2-682" tabindex="-1"><a class="header-anchor" href="#v3-2-682"><span>v3.2.682</span></a></h2><ul><li>优化 人大金仓 KingbaseES 兼容 V8R3/V8R6；#931 #325</li></ul><h2 id="v3-2-681" tabindex="-1"><a class="header-anchor" href="#v3-2-681"><span>v3.2.681</span></a></h2><ul><li><strong>修复 3.2.666-3.2.680 子查询的特殊 bug；</strong></li><li>增加 fsql.Ado.QuerySingle(() =&gt; new {}) 扩展方法实现无表查询 SELECT now(), utc_timestamp()</li><li>优化 min pool size 与 max pool size 连接串设置；</li><li>优化 导航属性未配置关系先 Where 后 InnerJoin 的问题；</li></ul><h2 id="v3-2-680" tabindex="-1"><a class="header-anchor" href="#v3-2-680"><span>v3.2.680</span></a></h2><ul><li><strong>优化 WithTempQuery 多对象选择同别名问题；</strong> #1192</li><li>修复 WithTempQuery + Column + GroupBy + Key 指定列名的问题；</li><li>修复 GlobalFilter.ApplyIf + Repository.DataFilter.DisableAll 可能不生效的问题；</li><li>修复 UpdateDict 不支持 SET NULL 的更新；#1257</li><li>修复 ClickHuse DBFrist ExistsTable；</li><li>增加 ClickHouse LimitBy/Sample 查询方法；</li><li><strong>增加 所有<a href="https://freesql.net/guide/freesql-provider-custom.html" target="_blank" rel="noopener noreferrer">国产数据库</a>支持 CustomMySql、CustomPostgreSQL、CustomOracle、CustomSqlServer 自定义适配；</strong></li><li>优化 DbSet/Repository 防止 Aop.AuditValue 触发两次；</li><li>优化 表达式树解析为 NULL 的提示；</li><li>优化 UseMappingPriority 与实体元数据逻辑；#1247</li><li>优化 ServerTime 与 IUpdate.Set 指定更新的重复问题；#1251</li></ul><h2 id="v3-2-669" tabindex="-1"><a class="header-anchor" href="#v3-2-669"><span>v3.2.669</span></a></h2><ul><li>修复 WithTempQuery + RereadSql 无别名的问题；</li><li>修复 WithTempQuery + FromQuery + 子查询的 bug；</li><li>修复 WithTempQuery + Column(Name 别名问题；</li><li>优化 CheckAvailable retry 重试一次；</li></ul><h2 id="v3-2-666" tabindex="-1"><a class="header-anchor" href="#v3-2-666"><span>v3.2.666</span></a></h2><ul><li><strong>增加 WithTempQuery + FromQuery 嵌套查询功能；</strong> #1192</li><li><strong>增加 FreeSql.Provider.OracleOledb 解决 US7ASCII 中文乱码问题；</strong></li><li><strong>增加 UnionALL 联合查询；</strong> #1106 #1104 #668 #478 #432 #213 #138</li><li>增加 WithMemory 基于内存查询，对标 WithSql；</li><li>增加 AuditValue ObjectAuditBreak 实现对象只触发一次审计事件；</li><li>增加 IncludeByPropertyName 重载 then 参数；#1214</li><li>增加 IInsertOrUpdate.SetSource(sql) 重载方法；</li><li>增加 DynamicFilterCustom 增加支持 Expression 返回值；</li><li>修复 UseGenerateCommandParameterWithLambda(true) 与 GroupBy 查询不生效 bug；</li><li>修复 ToList 子查询开启参数化重复参数的 bug；#1205</li><li><strong>修复 string[] JsonMap bug；</strong> #653</li><li>修复 ManyToMany 不会触发 AsTable 的 bug；</li><li>修复 Clickhouse Insert AsTable 表名处理 bug；</li><li>修复 ClickHouse 单条记录插入\\t \\n /失败的 bug；</li><li>修复 子查询使用基类 + AsType 可能产生的 bug；#1215</li><li>修复 SqlServer2005/2008 Skip 问题（未设置 Take 时）；</li><li>修复 MySql/SqlServer DbFirst 获取字段位置的问题；</li><li>修复 DbContext/Repository Primary decimal 状态管理 key 精度处理 bug；</li><li>修复 DbContext/Repository 无构造函数的实体对象不跟踪问题；</li><li>修复 ToSql AsProperty 大小别名问题；</li><li>优化 IncludeByPropertyName + AsType；</li><li>优化 字典crud TableInfo 合并规则；#1180</li><li>优化 IUpdate.Set 字符串累加本身为 NULL 的情况；#1209</li><li>优化 WhereDynamicFilter DateRange 情况；</li><li>优化 Oracle IN :ids 值传入 IList 时报错；</li><li>优化 Dameng 单独适配 netcore3.1；#1094</li><li><strong>优化 PrevReheatConnectionPool 预热；</strong></li><li>优化 全局过滤器禁用时子查询传播问题；#1208</li><li><strong>优化 子查询别名为 a 的情况；#1201</strong></li></ul><h2 id="v3-2-665" tabindex="-1"><a class="header-anchor" href="#v3-2-665"><span>v3.2.665</span></a></h2><ul><li>增加 IsVersion string 字符串乐观锁；<a href="https://github.com/dotnetcore/FreeSql/issues/1178" target="_blank" rel="noopener noreferrer">#1178</a></li><li>增加 IUpdate.SetSource ignoreVersion 参数可实现忽略乐观锁；<a href="https://github.com/dotnetcore/FreeSql/issues/1161" target="_blank" rel="noopener noreferrer">#1161</a></li><li>增加 IInsertOrUpdate.SetSource(items, tempPrimarys) 指定临时主键参数；<a href="https://github.com/dotnetcore/FreeSql/issues/1160" target="_blank" rel="noopener noreferrer">#1160</a></li><li>增加 DbContext/Repository 审计日志 ChangeInfo 增加属性 EntityType；</li><li>修复 SqlServer WithLock 子查询不生效的 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1159" target="_blank" rel="noopener noreferrer">#1159</a></li><li>修复 AsTreeCte + AsTable 无效的 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1176" target="_blank" rel="noopener noreferrer">#1176</a></li><li>修复 UseGenerateCommandParameterWithLambda(true) 问题；<a href="https://github.com/dotnetcore/FreeSql/issues/1173" target="_blank" rel="noopener noreferrer">#1173</a> <a href="https://github.com/dotnetcore/FreeSql/issues/900" target="_blank" rel="noopener noreferrer">#900</a></li><li>修复 SetSource 临时主键重载方法 + Column 设置 Name 后无效的 bug；</li><li>修复 Dto 映射查询 Negate 表达式解析 bug；</li><li>修复 pgsql OldName + XML 注释迁移代码顺序问题；</li><li>优化 string Contains 模糊查找 % 的情况；</li></ul><h2 id="v3-2-664" tabindex="-1"><a class="header-anchor" href="#v3-2-664"><span>v3.2.664</span></a></h2><ul><li><strong>修复 UseGenerateCommandParameterWithLambda 子查询并发 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1155" target="_blank" rel="noopener noreferrer">#1155</a> （重要）</strong></li><li>修复 pgsql Dto 映射使用常量 false 转换失败；</li><li>修复 IIF 三元表达式树解析 bool HasValue 问题；</li><li>修复 MySqlConnector BulkCopy 映射顺序问题；</li><li>优化 XML 注释读取支持 interface；</li><li>support provider、Extensions Exceptions 多语言</li></ul><h2 id="v3-2-662" tabindex="-1"><a class="header-anchor" href="#v3-2-662"><span>v3.2.662</span></a></h2><ul><li><strong>调整 pgsql10 自增映射使用 GENERATED BY DEFAULT AS IDENTITY，低版本仍然使用 serial；</strong></li><li><strong>增加 PgArrayToMany 专属导航属性；<a href="https://github.com/dotnetcore/FreeSql/issues/1145" target="_blank" rel="noopener noreferrer">#1145</a></strong></li><li>增加 ObservableCollection 级联加载和保存；</li><li>优化 FluentApi 继承关系可直接 ConfigEntity&lt;BaseEntity&gt; 生效；#1144</li><li>修复 达梦 min pool size 预热数量匹配 bug；</li><li>修复 v3.2.620 - v3.2.661 子查询 sum/min/max/avg 默认加 isnull 防止为 NULL 情况，日期类型处理错误 #1140 1b84a0069679c92ccaff9aa8c33023e4d34262cd</li><li>修复 AsTable 子查询未传播的问题；#1103</li><li>修复 IncludeByPropertyName fromFirstTable 判断错误；#278</li><li>修复 GroupBy 特殊情况下 AsProperty 无效的 bug；#1141</li><li>修复 MySql CodeFirst OldName + Comment 迁移问题；#1147</li><li>修复 pgsql DbFirst 未正确获取 Position 值；#1154</li></ul><h2 id="v3-2-661" tabindex="-1"><a class="header-anchor" href="#v3-2-661"><span>v3.2.661</span></a></h2><ul><li>增加 UseMappingPriority 指定映射优先级；<a href="https://github.com/dotnetcore/FreeSql/issues/387" target="_blank" rel="noopener noreferrer">#387</a> <a href="https://github.com/dotnetcore/FreeSql/issues/69" target="_blank" rel="noopener noreferrer">#69</a> <a href="https://github.com/dotnetcore/FreeSql/issues/99" target="_blank" rel="noopener noreferrer">#99</a></li><li>增加 AuditValueEventArgs Object 参数；<a href="https://github.com/dotnetcore/FreeSql/issues/1128" target="_blank" rel="noopener noreferrer">#1128</a></li><li>修复 pgsql varchar(120) CodeFirst 迁移不修改长度；</li><li>修复 ISelect.InsertInto 未执行自动迁移；</li><li>修复 UseCommandParameterWithLambda IN 参数化判断 的逻辑 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1137" target="_blank" rel="noopener noreferrer">#1137</a></li><li>优化 连接池不可用、定时检查；</li><li>优化 Limit + Sum/Avg/Max/Min 为嵌套查询；</li><li>优化 GroupBy Page 未排序的查询；<a href="https://github.com/dotnetcore/FreeSql/issues/1126" target="_blank" rel="noopener noreferrer">#1126</a></li></ul><h2 id="v3-2-651" tabindex="-1"><a class="header-anchor" href="#v3-2-651"><span>v3.2.651</span></a></h2><ul><li><strong>增加 DTO 映射非导航属性的子表查询 ToList，可直接返回集合；</strong></li><li>增加 Array.Any(x =&gt; x.id == a.Id &amp;&amp; ..) 表达式树解析；<a href="https://github.com/dotnetcore/FreeSql/issues/243" target="_blank" rel="noopener noreferrer">#243</a></li><li>增加 pgsql numeric -&gt; BigInteger 映射；<a href="https://github.com/dotnetcore/FreeSql/issues/1100" target="_blank" rel="noopener noreferrer">#1100</a></li><li>增加 <a href="https://github.com/dotnetcore/FreeSql/issues/1108" target="_blank" rel="noopener noreferrer">#1108</a> Exception 国际化；</li><li>增加 DynamicFilterCustom 参数 object sender；<a href="https://github.com/dotnetcore/FreeSql/issues/1113" target="_blank" rel="noopener noreferrer">#1113</a></li><li>增加 Fluent API 以继承接口的形式配置实体；<a href="https://github.com/dotnetcore/FreeSql/issues/937" target="_blank" rel="noopener noreferrer">#937</a></li><li>修复 Oracle AsTable 分表嵌套 SQL 拼错错误；<a href="https://github.com/dotnetcore/FreeSql/issues/1098" target="_blank" rel="noopener noreferrer">#1098</a></li><li>修复 AsTable ManyToMany IncludeMany 无效的问题；<a href="https://github.com/dotnetcore/FreeSql/issues/1103" target="_blank" rel="noopener noreferrer">#1103</a></li><li>修复 AsTable 分表 ToAggregate 无法得到汇总；<a href="https://github.com/dotnetcore/FreeSql/issues/1115" target="_blank" rel="noopener noreferrer">#1115</a></li><li>修复 Repository.DataFilter 对 GlobalFilter 控制无效的 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1028" target="_blank" rel="noopener noreferrer">#1028</a> <a href="https://github.com/dotnetcore/FreeSql/issues/846" target="_blank" rel="noopener noreferrer">#846</a></li><li>修复 IN 查询区分 varchar/nvarchar；</li><li>修复 Oracle clob 参数化类型设置问题；<a href="https://github.com/dotnetcore/FreeSql/issues/1116" target="_blank" rel="noopener noreferrer">#1116</a></li><li>修复 MySql 子查询 Enum MapType(int) 表达式判断解析 bug；<a href="https://github.com/dotnetcore/FreeSql/issues/1118" target="_blank" rel="noopener noreferrer">#1118</a></li><li>优化 AsTable 自动分表 Where Equal 判断；<a href="https://github.com/dotnetcore/FreeSql/issues/1104" target="_blank" rel="noopener noreferrer">#1104</a></li><li>优化 子查询 sum/min/max/avg 默认加 isnull 防止为 NULL 情况；</li><li>优化 EnableCascadeSave 级联保存执行逻辑，提升性能；</li><li>优化 RawJoin 支持 FULL JOIN 等自定义联表映射；</li><li>优化 IncludeMany 三级导航对象自动 _included；<a href="https://github.com/dotnetcore/FreeSql/issues/1113" target="_blank" rel="noopener noreferrer">#1113</a></li></ul><h2 id="v3-2-100-v3-2-640" tabindex="-1"><a class="header-anchor" href="#v3-2-100-v3-2-640"><span>v3.2.100 - v3.2.640</span></a></h2><ul><li><strong>增加 InsertDict/UpdateDict/DeleteDict/InsertOrUpdateDict 针对字典的 CUD 方法；#481</strong></li><li>增加 UseSlaveWeight 读权重设置；#1046</li><li><strong>增加 [Table(AsTable = xx)] 自动分表特性，待完善；#1066</strong></li><li>增加 <a href="https://freesql.net/guide/freesql-provider-sqlitecore.html" target="_blank" rel="noopener noreferrer">FreeSql.Provider.SqliteCore</a> 支持 Sqlite 加密；</li><li>增加 IList&lt;T&gt; IncludeByPropertyName 扩展方法，支持字符串参数；</li><li><strong>增加 DbSet/Repository DeleteCascadeByDatabase 级联删除(基于数据库)</strong>；</li><li>调整 DbSet/Repository EnableAddOrUpdateNavigateList 支持 OneToOne 级联保存、级联删除(基于对象)；</li><li>修复 Delete.Where in 查询为空时，异步操作仍然执行删除；#1068 <strong>【受影响版本 v3.2.302】</strong></li><li>修复 InsertOrUpdateDict 异常；#1067 <strong>【受影响版本 v3.2.301、v3.2.300、v3.2.200】</strong></li><li>修复 InsertDict 部分新功能遗留问题(特别是 Oracle)；<strong>【受影响版本 v3.2.301、v3.2.300、v3.2.200】</strong></li><li>修复 InsertDict/UpdateDict 等字典操作在 DbContext.Orm 下无法使用的 bug；#1064 <strong>【受影响版本 v3.2.300、v3.2.200】</strong></li><li>修复 MapType 复杂表达式树解析 bug；#1062</li><li>修复 UseGenerateCommandParameterWithLambda 对不可参数化的数据类型冲突的 bug；#1061 #900</li><li>修复 MySql Set 类型空格处理问题；#1059</li><li>修复 SaveManyAsync 多对多历史漏改的问题（同步无问题）；</li><li>修复 OR 表达式处理情况；#1047</li><li>修复 ClickHouse 设置 NoneParameter 会报错问题；</li><li>修复 Clickhouse 连接池使用问题；#646 #968 #969 #943</li><li>修复 pgsql IList -&gt; JArray 映射；#1092</li><li>修复 pgsql DbFirst IsPrimary bug；</li><li>修复 JsonMap 与导航属性的联表查询报错的 bug；#996</li><li>修复 子查询 WhereIf 可能失败的 bug；</li><li>修复 StringLength 设置后 IsNullable = false 无生效的问题；</li><li>修复 UseConnectionFactory 参数化问题；</li><li>修复 参数值为原始 DbParameter 时转换类型报错；</li><li>修复 UseGenerateCommandParameterWithLambda 子查询 IN bug；#900</li><li>修复 InsertValueSql 在仓储插入后不返回最新值；</li><li>完善 SqlServer BulkCopy 插入 DateTime 最小值问题；</li><li><strong>优化 导航集合属性访问，可省略 AsSelect；</strong></li><li>优化 DbContext/Repository Update 实体有 ServerTime 既使无状态变化也必然更新的逻辑；</li><li>优化 DbContext/Repository 插入非主键自增回填；</li><li>优化 ToList&lt;Dto&gt; jsonb 映射；</li><li>优化 dywhere IN 查询按 500 元素分割；#1091</li><li>优化 IIF 表达式解析；</li></ul><h2 id="v3-0-100-2021-12-17" tabindex="-1"><a class="header-anchor" href="#v3-0-100-2021-12-17"><span>v3.0.100（2021/12/17）</span></a></h2><ul><li><strong>增加 南大通用 Gbase 国产数据库支持；</strong></li><li><strong>增加 ClickHouse 数据库语法支持；</strong></li><li>增加 DbContext/Repository 比较变化方法 CompareState；</li><li><strong>增加 DynamicFilter Custom 自定义解析；</strong></li><li>增加 ToDataTableByPropertyName 动态查询功能；</li><li>优化 兼容排序 OrderBy(a =&gt; new {}) 语法；</li><li>优化 pgsql jsonb 映射，支持 List，mysql limit in 子查询；</li><li>优化 InsertOrUpdate&lt;&gt; 使用 InsertOrUpdate&lt;list&lt;&gt;&gt;时，提示友好异常。</li><li>修复 BulkCopy 与线程事务未传播的 bug；#962</li><li>修复 AsTreeCte + RereadSql 不能同时使用的 bug；#964</li><li>修复 FreeSql.Generator 工具生成 model 失败 <a href="https://github.com/dotnetcore/FreeSql/issues/882" target="_blank" rel="noopener noreferrer">#882</a></li></ul><blockquote><p>更多历史更新日志，请访问：https://github.com/dotnetcore/FreeSql/wiki/%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97</p></blockquote>',61))])}const b=a(d,[["render",p],["__file","change-log.html.vue"]]),m=JSON.parse('{"path":"/reference/change-log.html","title":"更新日志","lang":"zh-CN","frontmatter":{"description":"更新日志 大约每月一次版本号，暂时以修复 bug 为主 v3.5.212 修复 Oracle InsertOrUpdate Bug；#2047 v3.5.211 修复 ToChunkAsyncEnumerable 少读一条数据的 bug；#1982 #2056 #2016 #2015 修复 System.MemoryExtensions.Contain...","head":[["meta",{"property":"og:url","content":"https://freesql.net/reference/change-log.html"}],["meta",{"property":"og:site_name","content":"FreeSql"}],["meta",{"property":"og:title","content":"更新日志"}],["meta",{"property":"og:description","content":"更新日志 大约每月一次版本号，暂时以修复 bug 为主 v3.5.212 修复 Oracle InsertOrUpdate Bug；#2047 v3.5.211 修复 ToChunkAsyncEnumerable 少读一条数据的 bug；#1982 #2056 #2016 #2015 修复 System.MemoryExtensions.Contain..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-30T14:03:06.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-30T14:03:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"更新日志\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-30T14:03:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"nicye\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://freesql.net/atom.xml","title":"FreeSql Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://freesql.net/feed.json","title":"FreeSql JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://freesql.net/rss.xml","title":"FreeSql RSS Feed"}]]},"headers":[{"level":2,"title":"v3.5.212","slug":"v3-5-212","link":"#v3-5-212","children":[]},{"level":2,"title":"v3.5.211","slug":"v3-5-211","link":"#v3-5-211","children":[]},{"level":2,"title":"v3.5.210","slug":"v3-5-210","link":"#v3-5-210","children":[]},{"level":2,"title":"v3.5.209","slug":"v3-5-209","link":"#v3-5-209","children":[]},{"level":2,"title":"v3.5.208","slug":"v3-5-208","link":"#v3-5-208","children":[]},{"level":2,"title":"v3.5.207","slug":"v3-5-207","link":"#v3-5-207","children":[]},{"level":2,"title":"v3.5.206","slug":"v3-5-206","link":"#v3-5-206","children":[]},{"level":2,"title":"v3.5.203","slug":"v3-5-203","link":"#v3-5-203","children":[]},{"level":2,"title":"v3.5.202","slug":"v3-5-202","link":"#v3-5-202","children":[]},{"level":2,"title":"v3.5.201","slug":"v3-5-201","link":"#v3-5-201","children":[]},{"level":2,"title":"v3.5.109","slug":"v3-5-109","link":"#v3-5-109","children":[]},{"level":2,"title":"v3.5.108","slug":"v3-5-108","link":"#v3-5-108","children":[]},{"level":2,"title":"v3.5.107","slug":"v3-5-107","link":"#v3-5-107","children":[]},{"level":2,"title":"v3.5.106","slug":"v3-5-106","link":"#v3-5-106","children":[]},{"level":2,"title":"v3.5.102-3.5.105","slug":"v3-5-102-3-5-105","link":"#v3-5-102-3-5-105","children":[]},{"level":2,"title":"v3.5.101","slug":"v3-5-101","link":"#v3-5-101","children":[]},{"level":2,"title":"v3.2.833","slug":"v3-2-833","link":"#v3-2-833","children":[]},{"level":2,"title":"v3.2.832","slug":"v3-2-832","link":"#v3-2-832","children":[]},{"level":2,"title":"v3.2.830","slug":"v3-2-830","link":"#v3-2-830","children":[]},{"level":2,"title":"v3.2.825","slug":"v3-2-825","link":"#v3-2-825","children":[]},{"level":2,"title":"v3.2.822","slug":"v3-2-822","link":"#v3-2-822","children":[]},{"level":2,"title":"v3.2.821","slug":"v3-2-821","link":"#v3-2-821","children":[]},{"level":2,"title":"v3.2.820","slug":"v3-2-820","link":"#v3-2-820","children":[]},{"level":2,"title":"v3.2.815","slug":"v3-2-815","link":"#v3-2-815","children":[]},{"level":2,"title":"v3.2.812","slug":"v3-2-812","link":"#v3-2-812","children":[]},{"level":2,"title":"v3.2.810","slug":"v3-2-810","link":"#v3-2-810","children":[]},{"level":2,"title":"v3.2.808","slug":"v3-2-808","link":"#v3-2-808","children":[]},{"level":2,"title":"v3.2.805","slug":"v3-2-805","link":"#v3-2-805","children":[]},{"level":2,"title":"v3.2.802","slug":"v3-2-802","link":"#v3-2-802","children":[]},{"level":2,"title":"v3.2.801","slug":"v3-2-801","link":"#v3-2-801","children":[]},{"level":2,"title":"v3.2.700 (oracle/达梦子查询有 BUG)","slug":"v3-2-700-oracle-达梦子查询有-bug","link":"#v3-2-700-oracle-达梦子查询有-bug","children":[]},{"level":2,"title":"v3.2.698","slug":"v3-2-698","link":"#v3-2-698","children":[]},{"level":2,"title":"v3.2.697","slug":"v3-2-697","link":"#v3-2-697","children":[]},{"level":2,"title":"v3.2.696","slug":"v3-2-696","link":"#v3-2-696","children":[]},{"level":2,"title":"v3.2.695","slug":"v3-2-695","link":"#v3-2-695","children":[]},{"level":2,"title":"v3.2.693","slug":"v3-2-693","link":"#v3-2-693","children":[]},{"level":2,"title":"v3.2.692","slug":"v3-2-692","link":"#v3-2-692","children":[]},{"level":2,"title":"v3.2.691","slug":"v3-2-691","link":"#v3-2-691","children":[]},{"level":2,"title":"v3.2.690","slug":"v3-2-690","link":"#v3-2-690","children":[]},{"level":2,"title":"v3.2.688","slug":"v3-2-688","link":"#v3-2-688","children":[]},{"level":2,"title":"v3.2.687","slug":"v3-2-687","link":"#v3-2-687","children":[]},{"level":2,"title":"v3.2.686","slug":"v3-2-686","link":"#v3-2-686","children":[]},{"level":2,"title":"v3.2.685","slug":"v3-2-685","link":"#v3-2-685","children":[]},{"level":2,"title":"v3.2.684","slug":"v3-2-684","link":"#v3-2-684","children":[]},{"level":2,"title":"v3.2.683","slug":"v3-2-683","link":"#v3-2-683","children":[]},{"level":2,"title":"v3.2.682","slug":"v3-2-682","link":"#v3-2-682","children":[]},{"level":2,"title":"v3.2.681","slug":"v3-2-681","link":"#v3-2-681","children":[]},{"level":2,"title":"v3.2.680","slug":"v3-2-680","link":"#v3-2-680","children":[]},{"level":2,"title":"v3.2.669","slug":"v3-2-669","link":"#v3-2-669","children":[]},{"level":2,"title":"v3.2.666","slug":"v3-2-666","link":"#v3-2-666","children":[]},{"level":2,"title":"v3.2.665","slug":"v3-2-665","link":"#v3-2-665","children":[]},{"level":2,"title":"v3.2.664","slug":"v3-2-664","link":"#v3-2-664","children":[]},{"level":2,"title":"v3.2.662","slug":"v3-2-662","link":"#v3-2-662","children":[]},{"level":2,"title":"v3.2.661","slug":"v3-2-661","link":"#v3-2-661","children":[]},{"level":2,"title":"v3.2.651","slug":"v3-2-651","link":"#v3-2-651","children":[]},{"level":2,"title":"v3.2.100 - v3.2.640","slug":"v3-2-100-v3-2-640","link":"#v3-2-100-v3-2-640","children":[]},{"level":2,"title":"v3.0.100（2021/12/17）","slug":"v3-0-100-2021-12-17","link":"#v3-0-100-2021-12-17","children":[]}],"git":{"createdTime":1602827823000,"updatedTime":1753884186000,"contributors":[{"name":"taadis","username":"taadis","email":"i@taadis.com","commits":1,"url":"https://github.com/taadis"},{"name":"luoyunchong","username":"luoyunchong","email":"luoyunchong@foxmail.com","commits":4,"url":"https://github.com/luoyunchong"},{"name":"IGeekFan","username":"IGeekFan","email":"luoyunchong@foxmail.com","commits":5,"url":"https://github.com/IGeekFan"},{"name":"igeekfan","username":"igeekfan","email":"igeekfan@foxmail.com","commits":2,"url":"https://github.com/igeekfan"},{"name":"luoyunchong","username":"luoyunchong","email":"luoyunchong@foxmai.com","commits":1,"url":"https://github.com/luoyunchong"},{"name":"igeekfan","username":"igeekfan","email":"luoyunchong@foxmail.com","commits":12,"url":"https://github.com/igeekfan"},{"name":"2881099","username":"2881099","email":"2881099@users.noreply.github.com","commits":74,"url":"https://github.com/2881099"},{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mister-Hope"},{"name":"2881099","username":"2881099","email":"2881099@qq.com","commits":1,"url":"https://github.com/2881099"}]},"readingTime":{"minutes":21.38,"words":6414},"filePathRelative":"reference/change-log.md","localizedDate":"2020年10月16日","autoDesc":true}');export{b as comp,m as data};
