import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as e,o as p,c as o,a as n,b as s,d as c,e as l}from"./app-UBewaJPQ.js";const i={},u=n("h1",{id:"freeredis",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#freeredis","aria-hidden":"true"},"#"),s(" FreeRedis")],-1),r=n("p",null,[n("code",null,"CSRedisCore"),s(" æ˜¯ .NETFramework 4.0 åŠä»¥ä¸Š è®¿é—® redis-server çš„å®¢æˆ·ç«¯ç»„ä»¶ï¼Œä¹Ÿæ˜¯ FreeSql ä½œè€…æ—©å¹´å‘å¸ƒçš„ nuget ç‰ˆæœ¬ã€‚")],-1),d=n("p",null,[s("åæ¥é‡æ„äº†æ›´ç®€æ˜“çš„ "),n("code",null,"FreeRedis"),s("ï¼Œç›®å‰æ¨èå¤§å®¶ä½¿ç”¨ "),n("code",null,"FreeRedis"),s("ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰ .NET å¹³å°å’Œ AOTã€‚")],-1),k={href:"https://github.com/2881099/FreeRedis",target:"_blank",rel:"noopener noreferrer"},v=l(`<ul><li>ğŸŒˆ æ‰€æœ‰æ–¹æ³•åä¸ redis-cli ä¿æŒä¸€è‡´</li><li>ğŸŒŒ æ”¯æŒ Redis é›†ç¾¤ï¼ˆæœåŠ¡ç«¯è¦æ±‚ 3.2 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰</li><li>â›³ æ”¯æŒ Redis å“¨å…µæ¨¡å¼</li><li>ğŸ£ æ”¯æŒä¸»ä»åˆ†ç¦»ï¼ˆMaster-Slaveï¼‰</li><li>ğŸ“¡ æ”¯æŒå‘å¸ƒè®¢é˜…ï¼ˆPub-Subï¼‰</li><li>ğŸ“ƒ æ”¯æŒ Redis Lua è„šæœ¬</li><li>ğŸ’» æ”¯æŒç®¡é“ï¼ˆPipelineï¼‰</li><li>ğŸ“° æ”¯æŒäº‹åŠ¡</li><li>ğŸŒ´ æ”¯æŒ GEO å‘½ä»¤ï¼ˆæœåŠ¡ç«¯è¦æ±‚ 3.2 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰</li><li>ğŸŒ² æ”¯æŒ STREAM ç±»å‹å‘½ä»¤ï¼ˆæœåŠ¡ç«¯è¦æ±‚ 5.0 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰</li><li>âš¡ æ”¯æŒæœ¬åœ°ç¼“å­˜ï¼ˆClient-side-cahingï¼ŒæœåŠ¡ç«¯è¦æ±‚ 6.0 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰</li><li>ğŸŒ³ æ”¯æŒ Redis 6 çš„ RESP3 åè®®</li></ul><h2 id="ğŸš€-å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a> ğŸš€ å¿«é€Ÿå…¥é—¨</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">RedisClient</span> cli <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisClient</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:6379,password=123,defaultDatabase=13&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//cli.Serialize = obj =&gt; JsonConvert.SerializeObject(obj);</span>
<span class="token comment">//cli.Deserialize = (json, type) =&gt; JsonConvert.DeserializeObject(json, type);</span>
cli<span class="token punctuation">.</span>Notice <span class="token operator">+=</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>Log<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ‰“å°å‘½ä»¤æ—¥å¿—</span>

cli<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cli<span class="token punctuation">.</span><span class="token function">MSet</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">string</span></span> value1 <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> vals <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">MGet</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ”¯æŒ STRINGã€HASHã€LISTã€SETã€ZSETã€BITMAPã€HyperLogLogã€GEOã€Stream ä»¥åŠå¸ƒéš†è¿‡æ»¤å™¨ç­‰ã€‚</p></blockquote><table><thead><tr><th style="text-align:left;">å‚æ•°</th><th style="text-align:right;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;">protocol</td><td style="text-align:right;">RESP2</td><td style="text-align:left;">è‹¥ä½¿ç”¨ RESP3 åè®®ï¼Œä½ éœ€è¦ Redis 6.0 ç¯å¢ƒ</td></tr><tr><td style="text-align:left;">user</td><td style="text-align:right;">&lt;empty&gt;</td><td style="text-align:left;">Redis æœåŠ¡ç«¯ç”¨æˆ·åï¼Œè¦æ±‚ Redis 6.0 ç¯å¢ƒ</td></tr><tr><td style="text-align:left;">password</td><td style="text-align:right;">&lt;empty&gt;</td><td style="text-align:left;">Redis æœåŠ¡ç«¯å¯†ç </td></tr><tr><td style="text-align:left;">defaultDatabase</td><td style="text-align:right;">0</td><td style="text-align:left;">Redis æœåŠ¡ç«¯æ•°æ®åº“</td></tr><tr><td style="text-align:left;">max poolsize</td><td style="text-align:right;">100</td><td style="text-align:left;">è¿æ¥æ± æœ€å¤§è¿æ¥æ•°</td></tr><tr><td style="text-align:left;">min poolsize</td><td style="text-align:right;">5</td><td style="text-align:left;">è¿æ¥æ± æœ€å°è¿æ¥æ•°</td></tr><tr><td style="text-align:left;">idleTimeout</td><td style="text-align:right;">20000</td><td style="text-align:left;">è¿æ¥æ± ä¸­å…ƒç´ çš„ç©ºé—²æ—¶é—´ï¼ˆå•ä½ä¸ºæ¯«ç§’ msï¼‰ï¼Œé€‚ç”¨äºè¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨</td></tr><tr><td style="text-align:left;">connectTimeout</td><td style="text-align:right;">10000</td><td style="text-align:left;">è¿æ¥è¶…æ—¶ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰</td></tr><tr><td style="text-align:left;">receiveTimeout</td><td style="text-align:right;">10000</td><td style="text-align:left;">æ¥æ”¶è¶…æ—¶ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰</td></tr><tr><td style="text-align:left;">sendTimeout</td><td style="text-align:right;">10000</td><td style="text-align:left;">å‘é€è¶…æ—¶ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰</td></tr><tr><td style="text-align:left;">encoding</td><td style="text-align:right;">utf-8</td><td style="text-align:left;">å­—ç¬¦ä¸²å­—ç¬¦é›†</td></tr><tr><td style="text-align:left;">retry</td><td style="text-align:right;">0</td><td style="text-align:left;">åè®®å‘ç”Ÿé”™è¯¯æ—¶ï¼Œé‡è¯•æ‰§è¡Œçš„æ¬¡æ•°</td></tr><tr><td style="text-align:left;">ssl</td><td style="text-align:right;">false</td><td style="text-align:left;">å¯ç”¨åŠ å¯†ä¼ è¾“</td></tr><tr><td style="text-align:left;">name</td><td style="text-align:right;">&lt;empty&gt;</td><td style="text-align:left;">è¿æ¥åï¼Œä½¿ç”¨ CLIENT LIST å‘½ä»¤æŸ¥çœ‹</td></tr><tr><td style="text-align:left;">prefix</td><td style="text-align:right;">&lt;empty&gt;</td><td style="text-align:left;"><code>key</code> å‰è¾ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½ä¼šé™„å¸¦æ­¤å‰è¾ï¼Œcli.Set(prefix + &quot;key&quot;, 111);</td></tr></tbody></table><blockquote><p>IPv6: [fe80::b164:55b3:4b4f:7ce6%15]:6379</p></blockquote><h2 id="ğŸ£-master-slave-è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#ğŸ£-master-slave-è¯»å†™åˆ†ç¦»" aria-hidden="true">#</a> ğŸ£ Master-Slave (è¯»å†™åˆ†ç¦»)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">RedisClient</span> cli <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisClient</span><span class="token punctuation">(</span>
    <span class="token string">&quot;127.0.0.1:6379,password=123,defaultDatabase=13&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.1:6380,password=123,defaultDatabase=13&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.1:6381,password=123,defaultDatabase=13&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å†™å…¥æ—¶è¿æ¥ 127.0.0.1:6379ï¼Œè¯»å–æ—¶éšæœºè¿æ¥ 6380 6381</p></blockquote><h2 id="â›³-redis-sentinel-å“¨å…µé«˜å¯ç”¨" tabindex="-1"><a class="header-anchor" href="#â›³-redis-sentinel-å“¨å…µé«˜å¯ç”¨" aria-hidden="true">#</a> â›³ Redis Sentinel (å“¨å…µé«˜å¯ç”¨)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">RedisClient</span> cli <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisClient</span><span class="token punctuation">(</span>
    <span class="token string">&quot;mymaster,password=123&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">new</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;192.169.1.10:26379&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.169.1.11:26379&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.169.1.12:26379&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">true</span> <span class="token comment">//æ˜¯å¦è¯»å†™åˆ†ç¦»</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸŒŒ-redis-cluster-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#ğŸŒŒ-redis-cluster-é›†ç¾¤" aria-hidden="true">#</a> ğŸŒŒ Redis Cluster (é›†ç¾¤)</h2><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ª Redis Cluster é›†ç¾¤ï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ªä¸»èŠ‚ç‚¹(7001-7003)ã€ä¸‰ä¸ªä»èŠ‚ç‚¹(7004-7006)ï¼Œåˆ™è¿æ¥æ­¤é›†ç¾¤çš„ä»£ç ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">RedisClient</span> cli <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisClient</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ConnectionStringBuilder<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;192.168.0.2:7001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.168.0.2:7002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.168.0.2:7003&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="âš¡-client-side-cahing-æœ¬åœ°ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#âš¡-client-side-cahing-æœ¬åœ°ç¼“å­˜" aria-hidden="true">#</a> âš¡ Client-side-cahing (æœ¬åœ°ç¼“å­˜)</h2><blockquote><p>æœåŠ¡ç«¯è¦æ±‚ 6.0 åŠä»¥ä¸Šç‰ˆæœ¬</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>cli<span class="token punctuation">.</span><span class="token function">UseClientSideCaching</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClientSideCachingOptions</span>
<span class="token punctuation">{</span>
    <span class="token comment">//æœ¬åœ°ç¼“å­˜çš„å®¹é‡</span>
    Capacity <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token comment">//è¿‡æ»¤å“ªäº›é”®èƒ½è¢«æœ¬åœ°ç¼“å­˜</span>
    KeyFilter <span class="token operator">=</span> key <span class="token operator">=&gt;</span> key<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Interceptor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//æ£€æŸ¥é•¿æœŸæœªä½¿ç”¨çš„ç¼“å­˜</span>
    CheckExpired <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> dt<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">Subtract</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span> <span class="token operator">&gt;</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“¡-subscribe-è®¢é˜…" tabindex="-1"><a class="header-anchor" href="#ğŸ“¡-subscribe-è®¢é˜…" aria-hidden="true">#</a> ğŸ“¡ Subscribe (è®¢é˜…)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span>cli<span class="token punctuation">.</span><span class="token function">Subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> ondata<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//wait .Dispose()</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ondata</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> channel<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">channel</span><span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">data</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“ƒ-scripting-è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#ğŸ“ƒ-scripting-è„šæœ¬" aria-hidden="true">#</a> ğŸ“ƒ Scripting (è„šæœ¬)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> r1 <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">Eval</span><span class="token punctuation">(</span><span class="token string">&quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;second&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> r2 <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">Eval</span><span class="token punctuation">(</span><span class="token string">&quot;return {1,2,{3,&#39;Hello World!&#39;}}&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>

cli<span class="token punctuation">.</span><span class="token function">Eval</span><span class="token punctuation">(</span><span class="token string">&quot;return redis.call(&#39;set&#39;,KEYS[1],&#39;bar&#39;)&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ’»-pipeline-ç®¡é“" tabindex="-1"><a class="header-anchor" href="#ğŸ’»-pipeline-ç®¡é“" aria-hidden="true">#</a> ğŸ’» Pipeline (ç®¡é“)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> pipe <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">StartPipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    pipe<span class="token punctuation">.</span><span class="token function">IncrBy</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pipe<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> Null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pipe<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> ret <span class="token operator">=</span> pipe<span class="token punctuation">.</span><span class="token function">EndPipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> ret<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“°-transaction-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#ğŸ“°-transaction-äº‹åŠ¡" aria-hidden="true">#</a> ğŸ“° Transaction (äº‹åŠ¡)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> tran <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">Multi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tran<span class="token punctuation">.</span><span class="token function">IncrBy</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tran<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> Null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tran<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> ret <span class="token operator">=</span> tran<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> ret<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“¯-getdatabase-åˆ‡åº“" tabindex="-1"><a class="header-anchor" href="#ğŸ“¯-getdatabase-åˆ‡åº“" aria-hidden="true">#</a> ğŸ“¯ GetDatabase (åˆ‡åº“)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> cli<span class="token punctuation">.</span><span class="token function">GetDatabase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    db<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> val1 <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-scan-æ‰«æ" tabindex="-1"><a class="header-anchor" href="#ğŸ”-scan-æ‰«æ" aria-hidden="true">#</a> ğŸ” Scan (æ‰«æ)</h2><blockquote><p>æ”¯æŒé›†ç¾¤æ¨¡å¼</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> keys <span class="token keyword">in</span> cli<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">,</span> keys<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,30);function g(m,b){const a=e("ExternalLinkIcon");return p(),o("div",null,[u,r,d,n("p",null,[s("å¼€æºåœ°å€ï¼š"),n("a",k,[s("https://github.com/2881099/FreeRedis"),c(a)])]),v])}const f=t(i,[["render",g],["__file","freeredis.html.vue"]]);export{f as default};
