import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,c as e,b as a,d as s,e as c,w as u,a as l,o as i}from"./app-Cap5HhGi.js";const r={};function k(d,n){const t=o("RouterLink");return i(),e("div",null,[n[3]||(n[3]=a("h1",{id:"untyped-mapping",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#untyped-mapping","aria-hidden":"true"},"#"),s(" Untyped Mapping")],-1)),a("p",null,[n[1]||(n[1]=s("This document follows the ")),c(t,{to:"/en/guide/dynamic.html"},{default:u(()=>n[0]||(n[0]=[s("“Dynamic Operations”")])),_:1}),n[2]||(n[2]=s(" and is designed specifically for low-code solutions."))]),n[4]||(n[4]=l(`<p>FreeSql defaults to using entity types. Although types can be dynamically created at runtime, frequent dynamic compilation can lead to memory leaks and difficulties in managing type versions.</p><p>This feature operates independently and performs CRUD operations using pure dictionaries (without entity types), supporting features such as navigation properties and cascading operations.</p><p>Note: This feature operates independently; do not confuse it with the cascading mechanism in other documents.</p><h2 id="dictionary-cud-single-table" tabindex="-1"><a class="header-anchor" href="#dictionary-cud-single-table" aria-hidden="true">#</a> Dictionary CUD (Single Table)</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> dic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dic<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dic<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fsql<span class="token punctuation">.</span><span class="token function">InsertDict</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AsTable</span><span class="token punctuation">(</span><span class="token string">&quot;table1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteAffrows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fsql<span class="token punctuation">.</span><span class="token function">UpdateDict</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AsTable</span><span class="token punctuation">(</span><span class="token string">&quot;table1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WherePrimary</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteAffrows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fsql<span class="token punctuation">.</span><span class="token function">DeleteDict</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AsTable</span><span class="token punctuation">(</span><span class="token string">&quot;table1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteAffrows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fsql<span class="token punctuation">.</span><span class="token function">InsertOrUpdateDict</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AsTable</span><span class="token punctuation">(</span><span class="token string">&quot;table1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WherePrimary</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteAffrows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>InsertDict/UpdateDict/DeleteDict/InsertOrUpdateDict</code> all support batch operations, corresponding to the type <code>List&lt;Dictionary&lt;string, object&gt;&gt;</code>.</p><h2 id="untyped-crud-advanced" tabindex="-1"><a class="header-anchor" href="#untyped-crud-advanced" aria-hidden="true">#</a> Untyped CRUD (Advanced)</h2><p>No dependence on entity types, no dynamic compilation needed, pure dictionary operations, supports navigation properties, cascading saves, and AOT compilation.</p><p>NuGet installation:</p><blockquote><p>dotnet add package FreeSql.Extensions.ZeroEntity</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ZeroDbContext</span><span class="token punctuation">(</span>fsql<span class="token punctuation">,</span> JsonConvert<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeserializeObject</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TableDescriptor<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// see the end of the document</span>

<span class="token class-name"><span class="token keyword">var</span></span> item <span class="token operator">=</span> JsonConvert<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeserializeObject</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">@&quot;
{
  &quot;&quot;Name&quot;&quot;:&quot;&quot;user1&quot;&quot;,
  &quot;&quot;Ext&quot;&quot;:
  {
    &quot;&quot;Remarks&quot;&quot;:[{&quot;&quot;Remark&quot;&quot;:&quot;&quot;remark1&quot;&quot;},{&quot;&quot;Remark&quot;&quot;:&quot;&quot;remark2&quot;&quot;}]
  },
  &quot;&quot;Claims&quot;&quot;:[{&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim1&quot;&quot;},{&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim2&quot;&quot;},{&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim3&quot;&quot;}],
  &quot;&quot;Roles&quot;&quot;:[{&quot;&quot;Name&quot;&quot;:&quot;&quot;role1&quot;&quot;},{&quot;&quot;Name&quot;&quot;:&quot;&quot;role2&quot;&quot;}]
}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> item2 <span class="token operator">=</span> JsonConvert<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeserializeObject</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">@&quot;
{
  &quot;&quot;Id&quot;&quot;:1,
  &quot;&quot;Name&quot;&quot;:&quot;&quot;user1111&quot;&quot;,
  &quot;&quot;Ext&quot;&quot;:{},
  &quot;&quot;Claims&quot;&quot;:[{&quot;&quot;Id&quot;&quot;:1,&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim1111&quot;&quot;},{&quot;&quot;Id&quot;&quot;:&quot;&quot;3&quot;&quot;,&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim3222222&quot;&quot;},{&quot;&quot;ClaimName&quot;&quot;:&quot;&quot;claim0000&quot;&quot;}],
  &quot;&quot;Roles&quot;&quot;:[{&quot;&quot;Name&quot;&quot;:&quot;&quot;role111100001&quot;&quot;},{&quot;&quot;Id&quot;&quot;:2,&quot;&quot;Name&quot;&quot;:&quot;&quot;role2&quot;&quot;}]
}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span>item2<span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span>item2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>Role<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span><span class="token punctuation">)</span> OUTPUT INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>N<span class="token string">&#39;role1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>N<span class="token string">&#39;role2&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span><span class="token keyword">User</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span><span class="token punctuation">)</span> OUTPUT INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>N<span class="token string">&#39;user1&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserExt<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserExtRemarks<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>RemarkId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Remark<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;6570e3f8-a226-c3ac-00d1-a3dd18b30339&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;remark1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;6570e3f8-a226-c3ac-00d1-a3de16d9aa68&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;remark2&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserClaim<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span><span class="token punctuation">)</span> OUTPUT INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;claim1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;claim2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;claim3&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserRole<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>Role<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span><span class="token punctuation">)</span> OUTPUT INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>N<span class="token string">&#39;role111100001&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>N<span class="token string">&#39;role2&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserClaim<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span><span class="token punctuation">)</span> OUTPUT INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> INSERTED<span class="token punctuation">.</span><span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token string">&#39;claim0000&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>UserRole<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserRole<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserRole<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserClaim<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">[</span><span class="token keyword">User</span><span class="token punctuation">]</span> <span class="token keyword">SET</span> <span class="token punctuation">[</span>Name<span class="token punctuation">]</span> <span class="token operator">=</span> N<span class="token string">&#39;user1111&#39;</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">[</span>UserClaim<span class="token punctuation">]</span> <span class="token keyword">SET</span> <span class="token punctuation">[</span>ClaimName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">CASE</span> <span class="token punctuation">[</span>Id<span class="token punctuation">]</span>
<span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> N<span class="token string">&#39;claim1111&#39;</span>
<span class="token keyword">WHEN</span> <span class="token number">3</span> <span class="token keyword">THEN</span> N<span class="token string">&#39;claim3222222&#39;</span> <span class="token keyword">END</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserRole<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token punctuation">[</span>RoleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserClaim<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>UserExt<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>UserId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span><span class="token keyword">User</span><span class="token punctuation">]</span> <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Queries return results as dictionaries <code>Dictionary&lt;string, object&gt;</code>:</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">// Automatic cascading</span>
ctx<span class="token punctuation">.</span>Select<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Separate query</span>
ctx<span class="token punctuation">.</span><span class="token function">SelectNoTracking</span><span class="token punctuation">(</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">//.IncludeAll()</span>
  <span class="token punctuation">.</span><span class="token function">Include</span><span class="token punctuation">(</span><span class="token string">&quot;Ext.Remarks&quot;</span><span class="token punctuation">,</span> then <span class="token operator">=&gt;</span> then<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;remark&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;like&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">Include</span><span class="token punctuation">(</span><span class="token string">&quot;Roles&quot;</span><span class="token punctuation">,</span> then <span class="token operator">=&gt;</span> then<span class="token punctuation">.</span><span class="token function">Include</span><span class="token punctuation">(</span><span class="token string">&quot;Users&quot;</span><span class="token punctuation">,</span>
    then <span class="token operator">=&gt;</span> then<span class="token punctuation">.</span><span class="token function">Include</span><span class="token punctuation">(</span><span class="token string">&quot;Ext.Remarks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Regular multi-table query</span>
ctx<span class="token punctuation">.</span><span class="token function">SelectNoTracking</span><span class="token punctuation">(</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">LeftJoin</span><span class="token punctuation">(</span><span class="token string">&quot;UserExt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;UserId&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;User.Id&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[{id:1, UserExt:{} },..]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>ctx</code> object depends on the JSON configuration as follows:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;User Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;IsIdentity&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.String&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Navigates&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Ext&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;OneToOne&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserExt&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Claims&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;OneToMany&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserClaim&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Bind&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Roles&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ManyToMany&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;Role&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;ManyToMany&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserRole&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Indexes&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserExt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;User Extension Information Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Navigates&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Remarks&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;OneToMany&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserExtRemarks&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Bind&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserExtRemarks&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;User Extension Information Table - Sub Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;RemarkId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Guid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Remark&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.String&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserClaim&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;One-to-Many Test Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;IsIdentity&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;ClaimName&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.String&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Role&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;Permission Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;IsIdentity&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.String&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Navigates&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Users&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ManyToMany&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;ManyToMany&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserRole&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Indexes&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserRole&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;Many-to-Many Intermediate Table&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;RoleId&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;IsPrimary&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;MapType&quot;</span><span class="token operator">:</span><span class="token string">&quot;System.Int32&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Navigates&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ManyToOne&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;User&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Bind&quot;</span><span class="token operator">:</span><span class="token string">&quot;UserId&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Role&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ManyToOne&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;RelTable&quot;</span><span class="token operator">:</span><span class="token string">&quot;Role&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;Bind&quot;</span><span class="token operator">:</span><span class="token string">&quot;RoleId&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cascading-mechanism" tabindex="-1"><a class="header-anchor" href="#cascading-mechanism" aria-hidden="true">#</a> Cascading Mechanism</h2><p>Before understanding this mechanism, please forget about the cascading mechanisms of Repository/DbContext and other prior methods; they are unrelated.</p><p><code>schemas[]</code> is a set of table mapping information definitions, including table names, column names, navigation properties, indexes, etc.</p><ul><li>Navigation Properties: OneToOne/OneToMany/ManyToOne/ManyToMany</li><li>Aggregate Root: OneToOne/OneToMany/Many-to-Many Intermediate Tables, treated as a whole</li><li>External Root: ManyToOne/ManyToMany External</li></ul><p>For example:</p><ul><li><code>User</code> is the aggregate root.</li><li><code>UserExt/UserClaim/UserRole</code> are child members of the <code>User</code> table, stored/deleted together.</li><li><code>Role</code> is an external root (relative to <code>User</code>, it is an independent aggregate root).</li></ul><p>CRUD operations are based on the aggregate root of <code>schemas[0]</code>.</p><ul><li>Query: Eagerly load all child members, the external root, and the external root&#39;s external roots (recursively).</li><li>State Management: Snapshot of the aggregate root (since external roots are also aggregate roots, they are stored in parallel to the aggregate root).</li></ul><p>Comparing and Saving:</p><p>Compare the current operation&#39;s aggregate root with the snapshot copy to calculate the changes in columns.</p><table><thead><tr><th>Navigation Property</th><th>Snapshot</th><th>Latest</th><th>Action</th></tr></thead><tbody><tr><td>OneToOne</td><td>NULL</td><td>Object</td><td>Add new record</td></tr><tr><td>OneToOne</td><td>Object</td><td>NULL</td><td>Delete snapshot record</td></tr><tr><td>OneToOne</td><td>Object</td><td>Object</td><td>Update if changed, otherwise ignore</td></tr><tr><td>OneToMany</td><td>NULL/Empty</td><td>List</td><td>Add latest List records</td></tr><tr><td>OneToMany</td><td>List</td><td>NULL</td><td>Ignore</td></tr><tr><td>OneToMany</td><td>List</td><td>Empty</td><td>Delete snapshot List records</td></tr><tr><td>OneToMany</td><td>List</td><td>List</td><td>Compare and save, calculate add/update/delete actions</td></tr><tr><td>Many-to-Many Intermediate Table</td><td></td><td></td><td>Same as OneToMany</td></tr></tbody></table><p>Insert:</p><ul><li>OneToOne: Cascading insert</li><li>OneToMany: Cascading insert</li><li>ManyToOne: Compare and save external root first, associate external root ID, then insert the aggregate root</li><li>ManyToMany: Compare and save external root first, insert aggregate root, then insert into the intermediate table</li></ul><p>Update:</p><ul><li>OneToOne: Cascading compare and save</li><li>OneToMany: Cascading compare and save</li><li>ManyToOne: Compare and save external root first, associate external root ID, then update the aggregate root</li><li>ManyToMany: Compare and save external root first, update the aggregate root, then compare and save the intermediate table</li></ul><p>Delete:</p><ul><li>OneToOne: Cascading delete</li><li>OneToMany: Cascading delete</li><li>ManyToOne: Ignore</li><li>ManyToMany: Cascading delete from the intermediate table (note: do not delete the external root)</li></ul>`,33))])}const v=p(r,[["render",k],["__file","lowcode.html.vue"]]);export{v as default};
