import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as u,a as n,b as s,d as t,e}from"./app-CM_zD8Tw.js";const l={},i=n("h2",{id:"介绍",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#介绍","aria-hidden":"true"},"#"),s(" 介绍")],-1),r=n("p",null,[n("code",null,"QuestDB "),s("是一款针对时序数据实时处理优化的关系型列存数据库， 支持 Rest API 方式访问，同时兼容 PostgreSQL 访问协议，以及 InfluxDB 写入的访问协议。自带 Web Console，方便数据库的基本访问")],-1),d={href:"https://questdb.io/",target:"_blank",rel:"noopener noreferrer"},k=e(`<h2 id="安装包" tabindex="-1"><a class="header-anchor" href="#安装包" aria-hidden="true">#</a> 安装包</h2><p>FreeSql.Provider.QuestDb</p><p>.NET CLI</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>dotnet <span class="token function">add</span> package FreeSql.Provider.QuestDb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Package Manager</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Install-Package FreeSql.Provider.QuestDb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="声明" tabindex="-1"><a class="header-anchor" href="#声明" aria-hidden="true">#</a> 声明</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">static</span> <span class="token class-name">IFreeSql</span> fsql <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FreeSql<span class="token punctuation">.</span>FreeSqlBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UseConnectionString</span><span class="token punctuation">(</span>FreeSql<span class="token punctuation">.</span>DataType<span class="token punctuation">.</span>QuestDb<span class="token punctuation">,</span>
       <span class="token string">@&quot;host=localhost;port=8812;username=admin;password=quest;database=qdb;ServerCompatibilityMode=NoTypeLoading;&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//连接字符串</span>
    <span class="token punctuation">.</span><span class="token function">UseMonitorCommand</span><span class="token punctuation">(</span>cmd <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Sql：</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">cmd<span class="token punctuation">.</span>CommandText</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token punctuation">.</span><span class="token function">UseQuestDbRestAPI</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:9000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//RestAPI，建议开启</span>
    <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="特有功能" tabindex="-1"><a class="header-anchor" href="#特有功能" aria-hidden="true">#</a> 特有功能</h2><h4 id="questfunc" tabindex="-1"><a class="header-anchor" href="#questfunc" aria-hidden="true">#</a> QuestFunc</h4><ul><li>QuestFunc 实现了 QuestDB 官方文档的函数</li><li>SelectLongSequence 对应 long_sequence</li></ul><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>fsql<span class="token punctuation">.</span><span class="token function">SelectLongSequence</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span>
    <span class="token punctuation">{</span>
        rndstr <span class="token operator">=</span> QuestFunc<span class="token punctuation">.</span><span class="token function">rnd_str</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        rnddate <span class="token operator">=</span> QuestFunc<span class="token punctuation">.</span><span class="token function">rnd_date</span><span class="token punctuation">(</span>QuestFunc<span class="token punctuation">.</span><span class="token function">to_date</span><span class="token punctuation">(</span><span class="token string">&quot;2020&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yyyy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QuestFunc<span class="token punctuation">.</span><span class="token function">to_date</span><span class="token punctuation">(</span><span class="token string">&quot;2023&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yyyy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>User1<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">InnerJoin</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>rndstr <span class="token operator">==</span> b<span class="token punctuation">.</span>Username<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//SELECT *</span>
<span class="token comment">//FROM (</span>
<span class="token comment">//    SELECT rnd_str(10,5,10,0) &quot;rndstr&quot;, rnd_date(to_date(&#39;2020&#39;,&#39;yyyy&#39;),to_date(&#39;2023&#39;,&#39;yyyy&#39;),0) &quot;rnddate&quot;</span>
<span class="token comment">//    FROM long_sequence(10)</span>
<span class="token comment">//) a</span>
<span class="token comment">//INNER JOIN &quot;user1&quot; b ON a.&quot;rndstr&quot; = b.&quot;username&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sample-by" tabindex="-1"><a class="header-anchor" href="#sample-by" aria-hidden="true">#</a> Sample By</h4><blockquote><p>SAMPLE BY用于时间序列数据，将大型数据集汇总为同质时间块的聚合，作为SELECT语句的一部分</p></blockquote>`,14),m={href:"https://questdb.io/docs/reference/sql/sample-by/",target:"_blank",rel:"noopener noreferrer"},b=e(`<div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">SampleBy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> SampleUnit<span class="token punctuation">.</span>day<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">WithTempQuery</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> q<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> q<span class="token punctuation">.</span>Activos<span class="token punctuation">,</span> count <span class="token operator">=</span> SqlExt<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> q<span class="token punctuation">.</span>Id <span class="token operator">!=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ToSql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>生成SQL</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;Activos&quot;</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">)</span> <span class="token string">&quot;count&quot;</span>
    <span class="token keyword">FROM</span> <span class="token string">&quot;Table&quot;</span> a SAMPLE <span class="token keyword">BY</span> <span class="token number">1</span>d
<span class="token punctuation">)</span> a
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span> <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="groupby" tabindex="-1"><a class="header-anchor" href="#groupby" aria-hidden="true">#</a> GroupBy</h4><blockquote><p>需要注意的是 QuestDB 的 GroupBy 与其他关系型 数据库不同</p></blockquote>`,5),v={href:"https://questdb.io/docs/concept/sql-extensions/#group-by-is-optional",target:"_blank",rel:"noopener noreferrer"},h=e(`<div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//这里通过WithTempQuery实现</span>
fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">WithTempQuery</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> q<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> q<span class="token punctuation">.</span>xxx<span class="token punctuation">,</span> count <span class="token operator">=</span> SqlExt<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> q<span class="token punctuation">.</span>Id <span class="token operator">!=</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">&amp;&amp;</span> q<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ToSql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>生成SQL</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">)</span> <span class="token string">&quot;count&quot;</span>
    <span class="token keyword">FROM</span> <span class="token string">&quot;Table&quot;</span> a
<span class="token punctuation">)</span> a
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token string">&quot;Id&quot;</span> <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;1&#39;</span> <span class="token operator">AND</span> a<span class="token punctuation">.</span><span class="token string">&quot;count&quot;</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="latest-on" tabindex="-1"><a class="header-anchor" href="#latest-on" aria-hidden="true">#</a> Latest On</h4><blockquote><p>对于多个时间序列存储在同一个表中的场景，根据时间戳检索给定键或键组合的最新项</p></blockquote>`,5),q={href:"https://questdb.io/docs/reference/sql/latest-on/",target:"_blank",rel:"noopener noreferrer"},g=e(`<div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">LatestOn</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> q<span class="token punctuation">.</span>CreateTime<span class="token punctuation">,</span> q <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> q<span class="token punctuation">.</span>xxx<span class="token punctuation">,</span> q<span class="token punctuation">.</span>xxx <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ToSql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>生成SQL</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>  a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token string">&quot;xxx&quot;</span>
<span class="token keyword">FROM</span> <span class="token string">&quot;Table&quot;</span> a
LATEST <span class="token keyword">ON</span> a<span class="token punctuation">.</span>xxxx  <span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> a<span class="token punctuation">.</span>xxxx 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="bulkcopy" tabindex="-1"><a class="header-anchor" href="#bulkcopy" aria-hidden="true">#</a> BulkCopy</h4><blockquote><p>实测七列10W数据预热后只需1.5秒，100W数据14秒左右</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//需要启用RestAPI</span>
fsql<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteBulkCopyAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：RestAPI 不经过 ado.net，因为不触发 UseMonitorCommand/Aop.CommandBefore/After 等事件</p><h4 id="自动分表、索引" tabindex="-1"><a class="header-anchor" href="#自动分表、索引" aria-hidden="true">#</a> 自动分表、索引</h4><blockquote><p>QuestDB 支持自动分表</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Id_Index&quot;</span><span class="token punctuation">,</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>Id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token comment">//索引类型必须是symbol</span>
    <span class="token punctuation">[</span><span class="token function">Column</span><span class="token punctuation">(</span>DbType <span class="token operator">=</span> <span class="token string">&quot;symbol&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span><span class="token punctuation">?</span></span> Activos <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//按天分表 </span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoSubtable</span><span class="token attribute-arguments"><span class="token punctuation">(</span>SubtableType<span class="token punctuation">.</span>Day<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> 
    <span class="token comment">//特性标记类型必须是DateTime</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> CreateTime <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span><span class="token punctuation">?</span></span> IsCompra <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><h4 id="table-busy" tabindex="-1"><a class="header-anchor" href="#table-busy" aria-hidden="true">#</a> table busy</h4><p><strong>多线程并发查询时会出现 table busy [reason=insert] 异常</strong></p>`,13),y={href:"https://questdb.io/docs/troubleshooting/faq/#why-do-i-get-table-busy-error-messages-when-inserting-data-over-postgresql-wire-protocol",target:"_blank",rel:"noopener noreferrer"},x=e(`<blockquote><p>解决方案，启用RestAPI后 Insert/Update就会默认使用HTTP方式</p></blockquote><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//在FreeSqlBuilder增加UseQuestDbRestAPI()</span>
<span class="token keyword">new</span> <span class="token constructor-invocation class-name">FreeSql<span class="token punctuation">.</span>FreeSqlBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">UseQuestDbRestAPI</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:9000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：RestAPI 不经过 ado.net，因为不触发 UseMonitorCommand/Aop.CommandBefore/After 等事件</p><h4 id="restapi设置账号密码" tabindex="-1"><a class="header-anchor" href="#restapi设置账号密码" aria-hidden="true">#</a> RestAPI设置账号密码</h4><p>QuestDb WebConsole并不支持设置账号密码，但是官网给出解决方案 使用Nginx代理</p>`,5),f={href:"https://questdb.io/blog/2022/08/05/setting-basic-auth-nginx/#introduction",target:"_blank",rel:"noopener noreferrer"},_=n("h4",{id:"questdb不支持删除",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#questdb不支持删除","aria-hidden":"true"},"#"),s(" QuestDb不支持删除？")],-1),w={href:"https://questdb.io/docs/troubleshooting/faq/#how-do-i-delete-a-row",target:"_blank",rel:"noopener noreferrer"},E=n("h2",{id:"在线测试",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#在线测试","aria-hidden":"true"},"#"),s(" 在线测试")],-1),S={href:"https://demo.questdb.io/",target:"_blank",rel:"noopener noreferrer"},T=e("<ul><li>Trips: 10 years of NYC taxi trips with 1.6 billion rows</li><li>Trades: live crytocurrency market data with 30M+ rows per month</li><li>Pos: geolocations of 250k unique ships over time</li></ul><table><thead><tr><th>Query</th><th>Execution time</th></tr></thead><tbody><tr><td>SELECT sum(double) FROM trips</td><td>[0.15 secs](https://demo.questdb.io/?query=SELECT sum(trip_distance) FROM trips;&amp;executeQuery=true)</td></tr><tr><td>SELECT sum(double), avg(double) FROM trips</td><td>[0.5 secs](https://demo.questdb.io/?query=SELECT sum(fare_amount), avg(fare_amount) FROM trips;&amp;executeQuery=true)</td></tr><tr><td>SELECT avg(double) FROM trips WHERE time in &#39;2019&#39;</td><td>[0.02 secs](https://demo.questdb.io/?query=SELECT avg(trip_distance) FROM trips WHERE pickup_datetime IN &#39;2019&#39;;&amp;executeQuery=true)</td></tr><tr><td>SELECT time, avg(double) FROM trips WHERE time in &#39;2019-01-01&#39; SAMPLE BY 1h</td><td>[0.01 secs](https://demo.questdb.io/?query=SELECT pickup_datetime, avg(trip_distance) FROM trips WHERE pickup_datetime IN &#39;2019-01-01&#39; SAMPLE BY 1h;&amp;executeQuery=true)</td></tr><tr><td>SELECT * FROM trades LATEST ON time PARTITION BY symbol</td><td>[0.00025 secs](https://demo.questdb.io/?query=SELECT * FROM trades LATEST ON timestamp PARTITION BY symbol;&amp;executeQuery=true)</td></tr></tbody></table><p>Our demo is running on <code>c5.metal</code> instance and using 24 cores out of</p>",3);function I(Q,L){const a=o("ExternalLinkIcon");return c(),u("div",null,[i,r,n("p",null,[n("a",d,[s("QuestDB | 官网 "),t(a)])]),k,n("p",null,[n("a",m,[s("SAMPLE BY keyword | QuestDB"),t(a)])]),b,n("p",null,[n("a",v,[s("官网说明：SQL extensions | QuestDB"),t(a)])]),h,n("p",null,[n("a",q,[s("LATEST ON keyword | QuestDB"),t(a)])]),g,n("p",null,[n("a",y,[s("官网说明 | table busy "),t(a)])]),x,n("p",null,[n("a",f,[s("Setting up Basic Authentication for QuestDB open source using Nginx | QuestDB"),t(a)])]),_,n("p",null,[n("a",w,[s("FAQ | How do I delete a row?"),t(a)])]),E,n("p",null,[n("a",S,[s("QuestDB | 在线测试 "),t(a)]),s(" 提供了最新的QuestDB发行版和示例数据集:")]),T])}const R=p(l,[["render",I],["__file","freesql-provider-questdb.html.vue"]]);export{R as default};
