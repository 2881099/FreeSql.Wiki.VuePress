import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,b as i,a as e,e as n,w as a,d as t,r as d,o as r}from"./app-CASwText.js";const p={};function u(o,s){const l=d("RouteLink");return r(),k("div",null,[s[88]||(s[88]=i("h1",{id:"select",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#select"},[i("span",null,"Select")])],-1)),s[89]||(s[89]=i("p",null,"FreeSql has invested heavily in querying data, offering features like fluent style, multi-table queries, expression functions, and strong support for navigation properties.",-1)),i("table",null,[s[18]||(s[18]=i("thead",null,[i("tr",null,[i("th"),i("th"),i("th")])],-1)),i("tbody",null,[i("tr",null,[i("td",null,[n(l,{to:"/en/guide/paging.html"},{default:a(()=>s[0]||(s[0]=[t("《Paging Queries》",-1)])),_:1,__:[0]})]),i("td",null,[n(l,{to:"/en/guide/repository.html"},{default:a(()=>s[1]||(s[1]=[t("《Repository Layer》",-1)])),_:1,__:[1]})]),i("td",null,[n(l,{to:"/en/guide/read-write-splitting.html"},{default:a(()=>s[2]||(s[2]=[t("《Read-Write Separation》",-1)])),_:1,__:[2]})])]),i("tr",null,[i("td",null,[n(l,{to:"/en/guide/select-single-table.html"},{default:a(()=>s[3]||(s[3]=[t("《Single Table Queries》",-1)])),_:1,__:[3]})]),i("td",null,[n(l,{to:"/en/guide/filters.html"},{default:a(()=>s[4]||(s[4]=[t("《Filters》",-1)])),_:1,__:[4]})]),s[5]||(s[5]=i("td",null,null,-1))]),i("tr",null,[i("td",null,[n(l,{to:"/en/guide/select-multi-table.html"},{default:a(()=>s[6]||(s[6]=[t("《Multi-Table Queries》",-1)])),_:1,__:[6]})]),i("td",null,[n(l,{to:"/en/guide/select-lazy-loading.html"},{default:a(()=>s[7]||(s[7]=[t("《Lazy Loading》",-1)])),_:1,__:[7]})]),i("td",null,[n(l,{to:"/en/guide/performance.html"},{default:a(()=>s[8]||(s[8]=[t("《Performance》",-1)])),_:1,__:[8]})])]),i("tr",null,[i("td",null,[n(l,{to:"/en/guide/withtempquery.html"},{default:a(()=>s[9]||(s[9]=[t("《Nested Queries》",-1)])),_:1,__:[9]})]),i("td",null,[n(l,{to:"/en/guide/select-include.html"},{default:a(()=>s[10]||(s[10]=[t("《Eager Loading》",-1)])),_:1,__:[10]})]),i("td",null,[n(l,{to:"/en/guide/sharding.html"},{default:a(()=>s[11]||(s[11]=[t("《Sharding》",-1)])),_:1,__:[11]})])]),i("tr",null,[i("td",null,[n(l,{to:"/en/guide/select-group-by.html"},{default:a(()=>s[12]||(s[12]=[t("《Group By Aggregation Queries》",-1)])),_:1,__:[12]})]),i("td",null,[n(l,{to:"/en/guide/expression-function.html"},{default:a(()=>s[13]||(s[13]=[t("《Expression Functions》",-1)])),_:1,__:[13]})]),i("td",null,[n(l,{to:"/en/guide/multi-tenancy.html"},{default:a(()=>s[14]||(s[14]=[t("《Multi-Tenancy》",-1)])),_:1,__:[14]})])]),i("tr",null,[i("td",null,[n(l,{to:"/en/guide/select-return-data.html"},{default:a(()=>s[15]||(s[15]=[t("《Return Data》",-1)])),_:1,__:[15]})]),s[16]||(s[16]=i("td",null,null,-1)),s[17]||(s[17]=i("td",null,null,-1))])])]),s[90]||(s[90]=e('<h2 id="expression-functions" tabindex="-1"><a class="header-anchor" href="#expression-functions"><span>Expression Functions</span></a></h2><table><thead><tr><th>Description</th><th>Lambda Expression</th><th>SQL</th></tr></thead><tbody><tr><td>in</td><td>Where(a =&gt; new [] { 1,2,3 }.Contains(a.Id))</td><td>[Id] in (1,2,3)</td></tr><tr><td>not in</td><td>Where(a =&gt; !new [] { 1,2,3 }.Contains(a.Id))</td><td>[Id] not in (1,2,3)</td></tr><tr><td>Multi-column in</td><td>Where(a =&gt; list.Any(b =&gt; b.Item1 == a.Id &amp;&amp; b.Item2 == a.ct1))</td><td>([Id]=1 and [ct1]=1) or ([Id]=2 and [ct1]=2)</td></tr><tr><td>like &#39;%xxx%&#39;</td><td>Where(a =&gt; a.Title.Contains(&quot;xxx&quot;))</td><td>[Title] like &#39;%xxx%&#39;</td></tr><tr><td>like &#39;xxx%&#39;</td><td>Where(a =&gt; a.Title.StartsWith(&quot;xxx&quot;))</td><td>[Title] like &#39;xxx%&#39;</td></tr><tr><td>like &#39;%xxx&#39;</td><td>Where(a =&gt; a.Title.EndsWith(&quot;xxx&quot;))</td><td>[Title] like &#39;%xxx&#39;</td></tr><tr><td>Date range</td><td>Where(a =&gt; a.Time.Between(time1, time2))</td><td>[Time] between @time1 and @time2</td></tr><tr><td>Exists</td><td>.Any()</td><td>select 1 from ...</td></tr><tr><td>Count</td><td>.Count()</td><td>select count(*) from ...</td></tr><tr><td>Sum</td><td>.Sum(a =&gt; a.Score)</td><td>select sum([Score]) from ...</td></tr><tr><td>Average</td><td>.Avg(a =&gt; a.Score)</td><td>select avg([Score]) from ...</td></tr><tr><td>Maximum</td><td>.Max(a =&gt; a.Score)</td><td>select max([Score]) from ...</td></tr><tr><td>Minimum</td><td>.Min(a =&gt; a.Score)</td><td>select min([Score]) from ...</td></tr></tbody></table>',2)),i("p",null,[s[20]||(s[20]=t("For more details, see ",-1)),n(l,{to:"/en/guide/expression-function.html"},{default:a(()=>s[19]||(s[19]=[t("《Expression Functions》",-1)])),_:1,__:[19]})]),s[91]||(s[91]=e(`<h2 id="sqlserver-withlock-withindex" tabindex="-1"><a class="header-anchor" href="#sqlserver-withlock-withindex"><span>SqlServer WithLock/WithIndex</span></a></h2><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ToList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//SELECT TOP 1 ... FROM [Region] a With(NoLock)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">SqlServerLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NoLock</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> |</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> SqlServerLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NoWait</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ToList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//SELECT TOP 1 ... FROM [Region] a With(NoLock, NoWait)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;idx_01&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ToList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//SELECT TOP 1 ... FROM [Region] a With(index=idx_01, NoLock)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Multi-table:</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">T2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">InnerJoin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">SqlServerLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NoLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Dictionary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        [</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">T2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WithIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;idx_01&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Dictionary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        [</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">T2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;idx_02&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ToList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//SELECT TOP 1 ..</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//FROM [Region] a With(index=idx_01, NoLock)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//INNER JOIN [T2] b With(index=idx_02) ON a.[x] = b.[xx]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Global NoLock Setting:</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//Applies to all entity classes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SetGlobalSelectWithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">SqlServerLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NoLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//【Specific】entity classes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SetGlobalSelectWithLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">SqlServerLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NoLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Dictionary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">T2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dynamic-filtering-wheredynamicfilter" tabindex="-1"><a class="header-anchor" href="#dynamic-filtering-wheredynamicfilter"><span>Dynamic Filtering WhereDynamicFilter</span></a></h2><p><a href="https://www.cnblogs.com/FreeSql/p/16485310.html" target="_blank" rel="noopener noreferrer">《Efficient Understanding of FreeSql WhereDynamicFilter and Insights into Its Design》</a></p><p>The ISelect.WhereDynamicFilter method implements dynamic filtering conditions (interacting with the frontend), supporting the following operators:</p><ul><li>Contains/StartsWith/EndsWith/NotContains/NotStartsWith/NotEndsWith: Contains/Does not contain, like &#39;%xx%&#39;, or like &#39;xx%&#39;, or like &#39;%xx&#39;</li><li>Equal/NotEqual: Equals/Not equals</li><li>GreaterThan/GreaterThanOrEqual: Greater than/Greater than or equal</li><li>LessThan/LessThanOrEqual: Less than/Less than or equal</li><li>Range: Range query</li><li>DateRange: Date range, with special handling value[1] + 1</li><li>Any/NotAny: Whether it matches any item in value (essentially SQL IN)</li><li>Custom: <a href="https://github.com/dotnetcore/FreeSql/discussions/1550" target="_blank" rel="noopener noreferrer">Custom parsing</a></li></ul><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">DynamicFilterInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dyfilter</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> JsonConvert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DeserializeObject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">DynamicFilterInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">@&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">  &quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Logic</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">And</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">  &quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Filters</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    { </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Field</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Operator</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Equals</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: 1 },</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">      &quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Logic</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Or</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">      &quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Filters</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        { </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Field</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Operator</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Equals</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: 2 },</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        { </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Field</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Operator</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Equals</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&quot;&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">: 3 }</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      ]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    }</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Region</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WhereDynamicFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dyfilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ToList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//WHERE id = 1 AND (id = 2 OR id = 3)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Dynamic Table Names: ISelect.AsTable((t, old) =&gt; $&quot;{old}_201903&quot;)</p></blockquote><blockquote><p>Dynamic Sorting: ISelect.OrderByPropertyName(&quot;Parent.Code&quot;)</p></blockquote><blockquote><p>Dynamic Returns: ISelect.ToDataTableByPropertyName(new string[] { &quot;Parent.Code&quot;, &quot;Id&quot; })</p></blockquote><blockquote><p>Dynamic Eager Loading: ISelect.IncludeByPropertyName(&quot;Parent.Parent&quot;).IncludeByPropertyName(&quot;Parent.Childs&quot;)</p></blockquote><h2 id="clone-queries-iselect" tabindex="-1"><a class="header-anchor" href="#clone-queries-iselect"><span>Clone Queries ISelect</span></a></h2><p>For your information: C# 7.0 supports local functions, which allows defining temporary methods within a method. This feature is highly recommended as it is very effective in many scenarios.</p><p>When a method is defined inside another method, it is called: local function/nested method.</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ISelect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">AdmRoute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getSelect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">fsql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">AdmRoute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Include</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WhereIf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IsNullOrEmpty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ...)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WhereIf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Parent_Id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Parent_Id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ParentId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WhereIf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">mn_Roles_Id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Roles</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">mn_Roles_Id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> select1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getSelect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> select2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getSelect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    select1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Status</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // At this point, select2 will not have the a.Status == 0 condition</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h2>`,20)),i("table",null,[s[87]||(s[87]=i("thead",null,[i("tr",null,[i("th",null,"Method"),i("th",null,"Return Type"),i("th",null,"Parameters"),i("th",null,"Description"),i("th")])],-1)),i("tbody",null,[s[28]||(s[28]=i("tr",null,[i("td",null,"ToSql"),i("td",null,"string"),i("td"),i("td",null,"Returns the SQL statement to be executed"),i("td")],-1)),s[29]||(s[29]=i("tr",null,[i("td",null,"ToList"),i("td",null,"List<T1>"),i("td"),i("td",null,"Executes SQL query and returns records of all fields of the T1 entity; if navigation properties exist, they are also queried and returned. If no records exist, returns a list with Count 0."),i("td")],-1)),s[30]||(s[30]=i("tr",null,[i("td",null,"ToList<T>"),i("td",null,"List<T>"),i("td",null,"Lambda"),i("td",null,"Executes SQL query and returns records of specified fields; if no records exist, returns a list with Count 0."),i("td")],-1)),s[31]||(s[31]=i("tr",null,[i("td",null,"ToList<T>"),i("td",null,"List<T>"),i("td",null,"string field"),i("td",null,"Executes SQL query and returns records of the field specified, and can be received as a tuple or basic types (int, string, long); if no records exist, returns a list with Count 0."),i("td")],-1)),s[32]||(s[32]=i("tr",null,[i("td",null,"ToOne"),i("td",null,"T1"),i("td"),i("td",null,"Executes SQL query and returns the first record of all fields of the T1 entity; if no record exists, returns null."),i("td")],-1)),s[33]||(s[33]=i("tr",null,[i("td",null,"ToAggregate<T>"),i("td",null,"List<T>"),i("td",null,"Lambda"),i("td",null,"Executes SQL query and returns aggregate results of specified fields (suitable for scenarios where GroupBy is not required)."),i("td")],-1)),s[34]||(s[34]=i("tr",null,[i("td",null,"Any"),i("td",null,"bool"),i("td"),i("td",null,"Executes SQL query to check if there are any records."),i("td")],-1)),s[35]||(s[35]=i("tr",null,[i("td",null,"Sum"),i("td",null,"T"),i("td",null,"Lambda"),i("td",null,"Computes the sum of a specified column."),i("td")],-1)),s[36]||(s[36]=i("tr",null,[i("td",null,"Min"),i("td",null,"T"),i("td",null,"Lambda"),i("td",null,"Computes the minimum value of a specified column."),i("td")],-1)),s[37]||(s[37]=i("tr",null,[i("td",null,"Max"),i("td",null,"T"),i("td",null,"Lambda"),i("td",null,"Computes the maximum"),i("td")],-1)),s[38]||(s[38]=i("tr",null,[i("td",null,"Max"),i("td",null,"T"),i("td",null,"Lambda"),i("td",null,"Specifies the maximum value of a column"),i("td")],-1)),s[39]||(s[39]=i("tr",null,[i("td",null,"Avg"),i("td",null,"T"),i("td",null,"Lambda"),i("td",null,"Specifies the average value of a column"),i("td")],-1)),s[40]||(s[40]=i("tr",null,[i("td",null,"【Pagination】"),i("td"),i("td"),i("td"),i("td")],-1)),s[41]||(s[41]=i("tr",null,[i("td",null,"Count"),i("td",null,"long"),i("td"),i("td",null,"The number of records in the query"),i("td")],-1)),s[42]||(s[42]=i("tr",null,[i("td",null,"Count"),i("td",null,"<this>"),i("td",null,"out long"),i("td",null,"The number of records in the query, returned as an out parameter"),i("td")],-1)),s[43]||(s[43]=i("tr",null,[i("td",null,"Skip"),i("td",null,"<this>"),i("td",null,"int offset"),i("td",null,"Offset the number of rows in the query"),i("td")],-1)),s[44]||(s[44]=i("tr",null,[i("td",null,"Offset"),i("td",null,"<this>"),i("td",null,"int offset"),i("td",null,"Offset the number of rows in the query"),i("td")],-1)),s[45]||(s[45]=i("tr",null,[i("td",null,"Limit"),i("td",null,"<this>"),i("td",null,"int limit"),i("td",null,"Specify the number of data records to query"),i("td")],-1)),s[46]||(s[46]=i("tr",null,[i("td",null,"Take"),i("td",null,"<this>"),i("td",null,"int limit"),i("td",null,"Specify the number of data records to query"),i("td")],-1)),s[47]||(s[47]=i("tr",null,[i("td",null,"Page"),i("td",null,"<this>"),i("td",null,"int pageIndex, int pageSize"),i("td",null,"Pagination"),i("td")],-1)),s[48]||(s[48]=i("tr",null,[i("td",null,"【Condition】"),i("td"),i("td"),i("td"),i("td")],-1)),s[49]||(s[49]=i("tr",null,[i("td",null,"Where"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Supports multi-table query expressions; using multiple times is equivalent to AND"),i("td")],-1)),s[50]||(s[50]=i("tr",null,[i("td",null,"WhereIf"),i("td",null,"<this>"),i("td",null,"bool, Lambda"),i("td",null,"Supports multi-table query expressions"),i("td")],-1)),i("tr",null,[s[24]||(s[24]=i("td",null,"Where",-1)),s[25]||(s[25]=i("td",null,"<this>",-1)),s[26]||(s[26]=i("td",null,"string, parms",-1)),i("td",null,[s[22]||(s[22]=t('Native SQL syntax condition, Where("id = @id", new { id = 1 } ,',-1)),n(l,{to:"/en/guide/ado.html#parameter"},{default:a(()=>s[21]||(s[21]=[t("Note the prefix @, according to the specific database",-1)])),_:1,__:[21]}),s[23]||(s[23]=t(" not explained elsewhere. Same applies)",-1))]),s[27]||(s[27]=i("td",null,null,-1))]),s[51]||(s[51]=i("tr",null,[i("td",null,"WhereIf"),i("td",null,"<this>"),i("td",null,"bool, string, parms"),i("td",null,'Native SQL syntax condition, WhereIf(true, "id = @id", new { id = 1 }'),i("td")],-1)),s[52]||(s[52]=i("tr",null,[i("td",null,"WhereCascade"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Add conditions to each table in multi-table queries"),i("td")],-1)),s[53]||(s[53]=i("tr",null,[i("td",null,"WhereDynamicFilter"),i("td",null,"<this>"),i("td",null,"DynamicFilterInfo"),i("td",null,"Dynamic filtering conditions (interaction with the frontend)"),i("td")],-1)),s[54]||(s[54]=i("tr",null,[i("td",null,"【GroupBy】"),i("td"),i("td"),i("td"),i("td")],-1)),s[55]||(s[55]=i("tr",null,[i("td",null,"GroupBy"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Group by selected columns, GroupBy(a => a.Name)"),i("td",null,"GroupBy(a => new{a.Name,a.Time})")],-1)),s[56]||(s[56]=i("tr",null,[i("td",null,"GroupBy"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Group by native SQL syntax, GroupBy("concat(name, @cc)", new { cc = 1 })'),i("td")],-1)),s[57]||(s[57]=i("tr",null,[i("td",null,"Having"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Filter aggregation conditions by native SQL syntax, Having("count(name) = @cc", new { cc = 1 })'),i("td")],-1)),s[58]||(s[58]=i("tr",null,[i("td",null,"Disdinct"),i("td",null,"<this>"),i("td"),i("td",null,".Distinct().ToList(x => x.GroupName) is for a specific field"),i("td")],-1)),s[59]||(s[59]=i("tr",null,[i("td",null,"【Sort】"),i("td"),i("td"),i("td"),i("td")],-1)),s[60]||(s[60]=i("tr",null,[i("td",null,"OrderBy"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Sort by column, OrderBy(a => a.Time), can be used multiple times"),i("td")],-1)),s[61]||(s[61]=i("tr",null,[i("td",null,"OrderByDescending"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Sort by column in descending order, OrderByDescending(a => a.Time)"),i("td")],-1)),s[62]||(s[62]=i("tr",null,[i("td",null,"OrderBy"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Sort by native SQL syntax, OrderBy("count(name) + @cc", new { cc = 1 })'),i("td")],-1)),s[63]||(s[63]=i("tr",null,[i("td",null,"OrderByPropertyName"),i("td",null,"string, bool"),i("td",null,"Sort by property name string (supports navigation properties)"),i("td"),i("td")],-1)),s[64]||(s[64]=i("tr",null,[i("td",null,"【Multi-tables】"),i("td"),i("td"),i("td"),i("td")],-1)),s[65]||(s[65]=i("tr",null,[i("td",null,"LeftJoin"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Left join query, supports navigation properties or specifying associated entity types"),i("td")],-1)),s[66]||(s[66]=i("tr",null,[i("td",null,"InnerJoin"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Inner join query, supports navigation properties or specifying associated entity types"),i("td")],-1)),s[67]||(s[67]=i("tr",null,[i("td",null,"RightJoin"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Right join query, supports navigation properties or specifying associated entity types"),i("td")],-1)),s[68]||(s[68]=i("tr",null,[i("td",null,"LeftJoin"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Left join query using native SQL syntax, LeftJoin("type b on b.id = a.id and b.clicks > @clicks", new { clicks = 1 })'),i("td")],-1)),s[69]||(s[69]=i("tr",null,[i("td",null,"InnerJoin"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Inner join query using native SQL syntax, InnerJoin("type b on b.id = a.id and b.clicks > @clicks", new { clicks = 1 })'),i("td")],-1)),s[70]||(s[70]=i("tr",null,[i("td",null,"RightJoin"),i("td",null,"<this>"),i("td",null,"string, parms"),i("td",null,'Right join query using native SQL syntax, RightJoin("type b on b.id = a.id and b.clicks > @clicks", new { clicks = 1 })'),i("td")],-1)),s[71]||(s[71]=i("tr",null,[i("td",null,"From"),i("td",null,"<this>"),i("td",null,"Lambda"),i("td",null,"Multi-table queries, very convenient for more than 3 tables; currently supports up to 10 tables"),i("td")],-1)),s[72]||(s[72]=i("tr",null,[i("td",null,"FromQuery"),i("td",null,"ISelect<T1, T2>"),i("td",null,"ISelect<T2>"),i("td",null,"Single table into double table query"),i("td")],-1)),s[73]||(s[73]=i("tr",null,[i("td",null,"WithTempQuery"),i("td",null,"ISelect<T1>"),i("td",null,"Lambda"),i("td",null,"Nest single or multiple table queries into a single table query"),i("td")],-1)),s[74]||(s[74]=i("tr",null,[i("td",null,"WithMemory"),i("td",null,"ISelect<T1>"),i("td",null,"List<T1>"),i("td",null,"Query using in-memory data"),i("td")],-1)),s[75]||(s[75]=i("tr",null,[i("td",null,"UnionAll"),i("td",null,"ISelect<T1>"),i("td",null,"ISelect<T1>[]"),i("td",null,"Union query"),i("td")],-1)),s[76]||(s[76]=i("tr",null,[i("td",null,"【Other】"),i("td"),i("td"),i("td"),i("td")],-1)),s[77]||(s[77]=i("tr",null,[i("td",null,"As"),i("td",null,"<this>"),i("td",null,'string alias = "a"'),i("td",null,"Specify alias"),i("td")],-1)),s[78]||(s[78]=i("tr",null,[i("td",null,"Master"),i("td",null,"<this>"),i("td"),i("td",null,"Specify querying from the master database (default is querying from the slave database)"),i("td")],-1)),s[79]||(s[79]=i("tr",null,[i("td",null,"CommandTimeout"),i("td",null,"<this>"),i("td",null,"int"),i("td",null,"Command timeout setting (seconds)"),i("td")],-1)),s[80]||(s[80]=i("tr",null,[i("td",null,"WithTransaction"),i("td",null,"<this>"),i("td",null,"DbTransaction"),i("td",null,"Set transaction object"),i("td")],-1)),s[81]||(s[81]=i("tr",null,[i("td",null,"WithConnection"),i("td",null,"<this>"),i("td",null,"DbConnection"),i("td",null,"Set connection object"),i("td")],-1)),s[82]||(s[82]=i("tr",null,[i("td",null,"WithLock"),i("td",null,"<this>"),i("td",null,"Enum"),i("td",null,"Special settings like SqlServer NoLock"),i("td")],-1)),s[83]||(s[83]=i("tr",null,[i("td",null,"ForUpdate"),i("td",null,"<this>"),i("td",null,"bool"),i("td",null,"Exclusive update lock, adapted for different databases, detailed explanation in comments"),i("td")],-1)),s[84]||(s[84]=i("tr",null,[i("td",null,"AsQueryable"),i("td",null,"IQueryable"),i("td"),i("td",null,"Convert ISelect to IQueryable, mainly used for extension, e.g., abp IRepository GetAll() interface method needs to return IQueryable object. Note: IQueryable methods are more likely to cause pollution, so avoid this conversion as much as possible"),i("td")],-1)),s[85]||(s[85]=i("tr",null,[i("td",null,"ToTreeList()"),i("td",null,"List<TEntity>"),i("td",null,"None"),i("td",null,"Return hierarchical data in the form of a TreeList"),i("td")],-1)),s[86]||(s[86]=i("tr",null,[i("td",null,"AsTreeCte()"),i("td",null,"ISelect"),i("td",null,"(up, pathSelector, level)"),i("td",null,"Recursive query of hierarchical tables"),i("td")],-1))])])])}const B=h(p,[["render",u]]),A=JSON.parse('{"path":"/en/guide/select.html","title":"Select","lang":"en-US","frontmatter":{"description":"Select FreeSql has invested heavily in querying data, offering features like fluent style, multi-table queries, expression functions, and strong support for navigation propertie...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://freesql.net/guide/select.html"}],["meta",{"property":"og:url","content":"https://freesql.net/en/guide/select.html"}],["meta",{"property":"og:site_name","content":"FreeSql"}],["meta",{"property":"og:title","content":"Select"}],["meta",{"property":"og:description","content":"Select FreeSql has invested heavily in querying data, offering features like fluent style, multi-table queries, expression functions, and strong support for navigation propertie..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-16T10:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-16T10:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Select\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-16T10:00:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"nicye\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://freesql.net/en/atom.xml","title":"FreeSql Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://freesql.net/en/feed.json","title":"FreeSql JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://freesql.net/en/rss.xml","title":"FreeSql RSS Feed"}]]},"headers":[{"level":2,"title":"Expression Functions","slug":"expression-functions","link":"#expression-functions","children":[]},{"level":2,"title":"SqlServer WithLock/WithIndex","slug":"sqlserver-withlock-withindex","link":"#sqlserver-withlock-withindex","children":[]},{"level":2,"title":"Dynamic Filtering WhereDynamicFilter","slug":"dynamic-filtering-wheredynamicfilter","link":"#dynamic-filtering-wheredynamicfilter","children":[]},{"level":2,"title":"Clone Queries ISelect","slug":"clone-queries-iselect","link":"#clone-queries-iselect","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[]}],"git":{"createdTime":1629525599000,"updatedTime":1737021600000,"contributors":[{"name":"luoyunchong","username":"luoyunchong","email":"luoyunchong@foxmail.com","commits":2,"url":"https://github.com/luoyunchong"},{"name":"2881099","username":"2881099","email":"2881099@qq.com","commits":2,"url":"https://github.com/2881099"},{"name":"Mister-Hope","username":"Mister-Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mister-Hope"}]},"readingTime":{"minutes":4.84,"words":1453},"filePathRelative":"en/guide/select.md","localizedDate":"August 21, 2021","autoDesc":true}');export{B as comp,A as data};
